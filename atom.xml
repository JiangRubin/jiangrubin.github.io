<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://jiangrubin.github.io</id>
    <title>Rubin&apos;s Blog</title>
    <updated>2021-04-10T07:24:51.156Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://jiangrubin.github.io"/>
    <link rel="self" href="https://jiangrubin.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://jiangrubin.github.io/images/avatar.png</logo>
    <icon>https://jiangrubin.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, Rubin&apos;s Blog</rights>
    <entry>
        <title type="html"><![CDATA[Element Table ç»„ä»¶å°è£…]]></title>
        <id>https://jiangrubin.github.io/post/element-table-zu-jian-feng-zhuang/</id>
        <link href="https://jiangrubin.github.io/post/element-table-zu-jian-feng-zhuang/">
        </link>
        <updated>2021-04-10T02:48:09.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>ä½¿ç”¨é…ç½®æè¿°æ•°æ®æ¥æ›¿ä»£ vue æ¨¡æ¿çš„ç»„ä»¶å†™æ³•ï¼ŒåŸºç¡€èƒ½åŠ›å®Œå…¨ä¸ <a href="https://element.eleme.cn/#/zh-CN/component/table">el-table</a> ç»„ä»¶ä¿æŒä¸€è‡´ã€‚å¹¶æä¾›äº†ä¸€äº›æ–¹ä¾¿å’Œè‡ªå®šä¹‰çš„ apiï¼ŒåŠ å¿«ä¹¦å†™ã€‚</p>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<pre><code class="language-js">&lt;script&gt;
import { formatDate } from 'element-ui/lib/utils/date-util';

function isObject (obj) {
  return Object.prototype.toString.call(obj) === '[object Object]';
};

function isNil (val) {
  return val === undefined || val === null;
};

function getEnumValue (value, _enum) {
  const valueEnum = _enum || undefined;
  return valueEnum &amp;&amp; valueEnum[value] ? valueEnum[value] : value;
};

export default {
  name: 'ElProTable',

  props: {
    data: {
      type: Array,
      default: () =&gt; ([])
    },
    columns: {
      type: Array,
      default: () =&gt; ([])
    },
    loading: Boolean
  },

  mounted () {
    this.mountTableMethods();
  },

  methods: {
    // åœ¨ this ä¸ŠæŒ‚è½½ table ç»„ä»¶å®ä¾‹æ–¹æ³•
    mountTableMethods() {
      const ElTableMethodKeys = ['clearSelection', 'toggleRowSelection', 'toggleAllSelection', 'toggleRowExpansion', 'setCurrentRow', 'clearSort', 'clearFilter', 'doLayout', 'sort'];
      Object.entries(this.$refs.table).forEach(([key, item]) =&gt; {
        if (ElTableMethodKeys.includes(key)) {
          this[key] = item;
        }
      });
    },

    generateValue ({ prop, valueType, enum: _enum }) {
      if (!prop) return null;
      return (scoped) =&gt; {
        const row = scoped.row || {};
        let value = row[prop];
        switch (valueType) {
          case 'date':
            value = formatDate(value);
            break;
          case 'dateTime':
            value = formatDate(value, 'yyyy-MM-dd HH:mm:ss');
            break;
          case 'text':
          default: value = getEnumValue(value, _enum);
        };
        return value;
      };
    },

    renderColumns (h, columns) {
      const $scopedSlots = this.$scopedSlots;
      return columns.map((item, i) =&gt; {
        if (!isObject(item)) return null;
        const key = !isNil(item.prop) ? item.prop : i;
        const { render, renderHeader, slot, slotHeader, columns: _columns, ...props } = item;
        const scopedSlots = {
          default: render ? (scoped) =&gt; render(h, scoped) : $scopedSlots[slot] || this.generateValue(item),
          header: renderHeader ? (scoped) =&gt; renderHeader(h, scoped) : $scopedSlots[slotHeader] || null
        };
        // é€šè¿‡é€’å½’å¤„ç†å¤šçº§è¡¨å¤´çš„æƒ…å†µ
        return &lt;el-table-column key={ key } { ...{ props } } scopedSlots={ scopedSlots }&gt;
          { Array.isArray(_columns) ? this.renderColumns(h, _columns) : null }
        &lt;/el-table-column&gt;;
      });
    }
  },

  render (h) {
    return (
      &lt;div class=&quot;el-pro-table&quot;&gt;
        &lt;el-table
          ref=&quot;table&quot;
          { ...{ props: this.$attrs } }
          { ...{ on: this.$listeners } }
          data={ this.data }
          v-loading={ this.loading }
        &gt;
          { this.renderColumns(h, this.columns) }
        &lt;/el-table&gt;
      &lt;/div&gt;
    );
  }
};
&lt;/script&gt;
</code></pre>
<h2 id="åŸºæœ¬ä½¿ç”¨">åŸºæœ¬ä½¿ç”¨</h2>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/31992c4ad447.png" alt="" loading="lazy"></figure>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;dataSource&quot; :columns=&quot;columns&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      columns: [
        {
          prop: 'name',
          label: 'Name'
        },
        {
          prop: 'age',
          label: 'Age'
        },
        {
          prop: 'address',
          label: 'Address'
        }
      ],
      dataSource: [
        { name: 'Yu Lou', age: 32, address: 'New York No. 1 Lake Park' },
        { name: 'Jim Green', age: 42, address: 'London No. 1 Lake Park' },
        { name: 'Joe Black', age: 32, address: 'Sidney No. 1 Lake Park' },
      ]
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 id="ä½¿ç”¨-valuetype">ä½¿ç”¨ valueType</h2>
<p>å°è£…äº†ä¸€äº›å¸¸ç”¨çš„å€¼ç±»å‹æ¥å‡å°‘é‡å¤çš„ render æ“ä½œï¼Œé€šè¿‡åœ¨ columns æ•°æ®é¡¹ä¸­é…ç½®ä¸€ä¸ª valueType å³å¯å±•ç¤ºæ ¼å¼åŒ–çš„æ•°æ®ã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/74950AD8-AFFA-4267-926F-ADAA1736977D.png" alt="" loading="lazy"></figure>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;dataSource&quot; :columns=&quot;columns&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      columns: [
        {
          prop: 'title',
          label: 'Title'
        },
        {
          prop: 'createTime',
          label: 'Time',
          valueType: 'dateTime'
        },
        {
          prop: 'state',
          label: 'State'
        },
      ],
      dataSource: [
        { title: 'title 1', createTime: 1616495706550, state: 'open' },
        { title: 'title 2', createTime: 1616405700550, state: 'closed' },
      ]
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 id="ä½¿ç”¨-enum">ä½¿ç”¨ enum</h2>
<p>é€šè¿‡åœ¨ columns æ•°æ®é¡¹ä¸­é…ç½® enum å¯¹è±¡ï¼Œå°†çŠ¶æ€å€¼è½¬ä¸ºå¯¹åº”çš„æè¿°ã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/28D3F346-49B6-4592-98D2-5DC6588E081D.png" alt="" loading="lazy"></figure>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;dataSource&quot; :columns=&quot;columns&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      columns: [
        {
          prop: 'title',
          label: 'Title'
        },
        {
          prop: 'state',
          label: 'State',
          enum: {
            open: 'æœªè§£å†³',
            closed: 'å·²è§£å†³'
          }
        },
      ],
      dataSource: [
        { title: 'title 1', state: 'open' },
        { title: 'title 2', state: 'closed' },
      ]
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 id="è‡ªå®šä¹‰åˆ—">è‡ªå®šä¹‰åˆ—</h2>
<figure data-type="image" tabindex="4"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/5FD717E8-A446-42E7-A9FB-71ADB6F1E7CD.png" alt="" loading="lazy"></figure>
<h3 id="render-å†™æ³•">render å†™æ³•</h3>
<p>é€šè¿‡ç»™ columns æ•°æ®çš„é¡¹ï¼Œè®¾ç½®ä¸€ä¸ªå‡½æ•° renderï¼Œå¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å½“å‰åˆ—ï¼ŒåŒ…æ‹¬æ¸²æŸ“è‡ªå®šä¹‰ç»„ä»¶ï¼Œå®ƒåŸºäº Vue çš„ Render å‡½æ•°ã€‚</p>
<p>render å‡½æ•°ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ hï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹è±¡ï¼ŒåŒ…å« rowã€column å’Œ $indexï¼Œåˆ†åˆ«æŒ‡å½“å‰è¡Œæ•°æ®ï¼Œå½“å‰åˆ—æ•°æ®ï¼Œå½“å‰æ˜¯ç¬¬å‡ è¡Œã€‚</p>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;dataSource&quot; :columns=&quot;columns&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      columns: [
        {
          prop: 'name',
          label: 'Name'
        },
        {
          prop: 'age',
          label: 'Age'
        },
        {
          prop: 'address',
          label: 'Address'
        },
        {
          label: 'Action',
          render (h, { row }) {
            return (
              &lt;div&gt;
                &lt;el-button type=&quot;text&quot;&gt;Invite { row.name }&lt;/el-button&gt;
                &lt;el-button type=&quot;text&quot;&gt;Delete&lt;/el-button&gt;
              &lt;/div&gt;
            )
          }
        }
      ],
      dataSource: [
        { name: 'Yu Lou', age: 32, address: 'New York No. 1 Lake Park' },
        { name: 'Jim Green', age: 42, address: 'London No. 1 Lake Park' },
        { name: 'Joe Black', age: 32, address: 'Sidney No. 1 Lake Park' },
      ]
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 id="slot-scope-å†™æ³•">slot-scope å†™æ³•</h3>
<p>åœ¨ columns çš„æŸåˆ—å£°æ˜ slot åï¼Œå°±å¯ä»¥åœ¨ Table çš„ slot ä¸­ä½¿ç”¨ slot-scopeã€‚</p>
<p>slot-scope çš„å‚æ•°æœ‰ 3 ä¸ªï¼šå½“å‰è¡Œæ•°æ® rowï¼Œå½“å‰åˆ—æ•°æ® columnï¼Œå½“å‰è¡Œåºå· $indexã€‚</p>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;dataSource&quot; :columns=&quot;columns&quot;&gt;
    &lt;template slot-scope=&quot;{ row }&quot; slot=&quot;action&quot;&gt;
      &lt;el-button type=&quot;text&quot;&gt;Invite {{ row.name }}&lt;/el-button&gt;
      &lt;el-button type=&quot;text&quot;&gt;Delete&lt;/el-button&gt;
    &lt;/template&gt;
  &lt;/el-pro-table&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      columns: [
        {
          prop: 'name',
          label: 'Name'
        },
        {
          prop: 'age',
          label: 'Age'
        },
        {
          prop: 'address',
          label: 'Address'
        },
        {
          label: 'Action',
          slot: 'action'
        }
      ],
      dataSource: [
        { name: 'Yu Lou', age: 32, address: 'New York No. 1 Lake Park' },
        { name: 'Jim Green', age: 42, address: 'London No. 1 Lake Park' },
        { name: 'Joe Black', age: 32, address: 'Sidney No. 1 Lake Park' },
      ]
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 id="è‡ªå®šä¹‰è¡¨å¤´">è‡ªå®šä¹‰è¡¨å¤´</h2>
<figure data-type="image" tabindex="5"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/24847B3C-8FCC-4080-958C-7CAD1291A155.png" alt="" loading="lazy"></figure>
<h3 id="render-å†™æ³•-2">render å†™æ³•</h3>
<p>é€šè¿‡ç»™ columns æ•°æ®çš„é¡¹ï¼Œè®¾ç½®ä¸€ä¸ªå‡½æ•° renderHeaderï¼Œå¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å½“å‰åˆ—è¡¨å¤´ï¼ŒåŒ…æ‹¬æ¸²æŸ“è‡ªå®šä¹‰ç»„ä»¶ï¼Œå®ƒåŸºäº Vue çš„ Render å‡½æ•°ã€‚</p>
<p>renderHeader å‡½æ•°ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ hï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹è±¡ï¼ŒåŒ…å« column å’Œ $indexï¼Œåˆ†åˆ«æŒ‡å½“å‰åˆ—æ•°æ®ï¼Œå½“å‰æ˜¯ç¬¬å‡ è¡Œã€‚</p>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;tableData&quot; :columns=&quot;columns&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      search: '',
      columns: [
        {
          prop: 'date',
          label: 'Date'
        },
        {
          prop: 'name',
          label: 'Name'
        },
        {
          align: 'right',
          renderHeader: (h, scoped) =&gt; {
            return &lt;el-input value={ this.search } on-input={ this.onInput } size=&quot;small&quot; placeholder=&quot;Search&quot; /&gt;
          },
          render (h) {
            return &lt;el-button size=&quot;small&quot;&gt;Edit&lt;/el-button&gt;
          }
        }
      ],
      dataSource: [
        { date: '2016-05-03', name: 'Yu Lou' },
        { date: '2016-05-02', name: 'Jim Green' },
        { date: '2016-05-04', name: 'Joe Black' }
      ]
    }
  },
  computed: {
    tableData () {
      const { dataSource, search } = this
      return dataSource.filter(data =&gt; !search || data.name.toLowerCase().includes(search.toLowerCase()))
    }
  },
  methods: {
    onInput (value) {
      this.search = value
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 id="slot-scope-å†™æ³•-2">slot-scope å†™æ³•</h3>
<p>åœ¨ columns çš„æŸåˆ—å£°æ˜ slotHeader åï¼Œå°±å¯ä»¥åœ¨ Table çš„ slot ä¸­ä½¿ç”¨ slot-scopeã€‚</p>
<p>slot-scope çš„å‚æ•°æœ‰ 3 ä¸ªï¼šå½“å‰è¡Œæ•°æ® rowï¼Œå½“å‰åˆ—æ•°æ® columnï¼Œå½“å‰è¡Œåºå· $indexã€‚</p>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;tableData&quot; :columns=&quot;columns&quot;&gt;
    &lt;template slot-scope=&quot;scope&quot; slot=&quot;search&quot;&gt;
      &lt;el-input v-model=&quot;search&quot; size=&quot;small&quot; placeholder=&quot;Search&quot; /&gt;
    &lt;/template&gt;
    &lt;template slot-scope=&quot;scope&quot; slot=&quot;action&quot;&gt;
      &lt;el-button size=&quot;small&quot;&gt;Edit&lt;/el-button&gt;
    &lt;/template&gt;
  &lt;/el-pro-table&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      search: '',
      columns: [
        {
          prop: 'date',
          label: 'Date'
        },
        {
          prop: 'name',
          label: 'Name'
        },
        {
          align: 'right',
          slotHeader: 'search',
          slot: 'action'
        }
      ],
      dataSource: [
        { date: '2016-05-03', name: 'Yu Lou' },
        { date: '2016-05-02', name: 'Jim Green' },
        { date: '2016-05-04', name: 'Joe Black' }
      ]
    }
  },
  computed: {
    tableData () {
      const { dataSource, search } = this
      return dataSource.filter(data =&gt; !search || data.name.toLowerCase().includes(search.toLowerCase()))
    }
  }
}
&lt;/script&gt;
</code></pre>
<h2 id="å¤šçº§è¡¨å¤´">å¤šçº§è¡¨å¤´</h2>
<figure data-type="image" tabindex="6"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/D62384C3-9944-468A-9072-5AA14FC5854B.png" alt="" loading="lazy"></figure>
<p>åœ¨ columns é…ç½®é¡¹ä¸­å¯ä»¥å†…åµŒ columnsï¼Œä»¥æ¸²æŸ“å¤šçº§è¡¨å¤´ã€‚</p>
<pre><code class="language-js">&lt;template&gt;
  &lt;el-pro-table :data=&quot;dataSource&quot; :columns=&quot;columns&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data () {
    return {
      columns: [
        {
          prop: 'date',
          label: 'æ—¥æœŸ',
          width: '150'
        },
        {
          label: 'é…é€ä¿¡æ¯',
          columns: [
            {
              prop: 'name',
              label: 'å§“å',
              width: '120'
            },
            {
              label: 'åœ°å€',
              columns: [
                {
                  prop: 'province',
                  label: 'çœä»½',
                  width: '120'
                },
                {
                  prop: 'city',
                  label: 'å¸‚åŒº',
                  width: '120'
                },
                {
                  prop: 'address',
                  label: 'è¯¦ç»†åœ°å€'
                },
                {
                  prop: 'zip',
                  label: 'é‚®ç¼–',
                  width: '120'
                }
              ]
            },
          ]
        }
      ],
      dataSource: [
        { date: '2016-05-03', name: 'Yu Lou', province: 'æµ™æ±Ÿçœ', city: 'æ­å·å¸‚', address: 'Fu Ding No. 1 Lake Park', zip: 200333 },
        { date: '2016-05-02', name: 'Yu Lou', province: 'æµ™æ±Ÿçœ', city: 'æ­å·å¸‚', address: 'Fu Ding No. 1 Lake Park', zip: 200333 },
        { date: '2016-05-04', name: 'Yu Lou', province: 'æµ™æ±Ÿçœ', city: 'æ­å·å¸‚', address: 'Fu Ding No. 1 Lake Park', zip: 200333 },
        { date: '2016-05-01', name: 'Yu Lou', province: 'æµ™æ±Ÿçœ', city: 'æ­å·å¸‚', address: 'Fu Ding No. 1 Lake Park', zip: 200333 },
        { date: '2016-05-08', name: 'Yu Lou', province: 'æµ™æ±Ÿçœ', city: 'æ­å·å¸‚', address: 'Fu Ding No. 1 Lake Park', zip: 200333 },
        { date: '2016-05-08', name: 'Yu Lou', province: 'æµ™æ±Ÿçœ', city: 'æ­å·å¸‚', address: 'Fu Ding No. 1 Lake Park', zip: 200333 },
        { date: '2016-05-08', name: 'Yu Lou', province: 'æµ™æ±Ÿçœ', city: 'æ­å·å¸‚', address: 'Fu Ding No. 1 Lake Park', zip: 200333 }
      ]
    }
  },
}
&lt;/script&gt;
</code></pre>
<h2 id="table-props">Table Props</h2>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ç±»å‹</th>
<th>å¯é€‰å€¼</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>columns</td>
<td>è¡¨æ ¼åˆ—çš„é…ç½®æè¿°ï¼Œè¯¦è§ <a href="#column">column</a> é…ç½®</td>
<td>array</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>data</td>
<td>æ˜¾ç¤ºçš„æ•°æ®</td>
<td>array</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>loading</td>
<td>æ˜¯å¦åŠ è½½ä¸­</td>
<td>boolean</td>
<td>-</td>
<td>false</td>
</tr>
<tr>
<td>...</td>
<td>å…¶ä»– <a href="https://element.eleme.cn/#/zh-CN/component/table#table-attributes">el-table</a> ç»„ä»¶æ”¯æŒçš„å±æ€§</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="column">Column</h3>
<p>åˆ—æè¿°æ•°æ®å¯¹è±¡ã€‚column æ”¯æŒ <a href="https://element.eleme.cn/#/zh-CN/component/table#table-column-attributes">el-table-column</a> å·²æœ‰çš„ props é…ç½®ï¼Œä½†æ˜¯ä¹Ÿæä¾›äº†ä¸€äº›æ–¹ä¾¿å’Œè‡ªå®šä¹‰çš„ apiï¼ŒåŠ å¿«ä¹¦å†™:</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ç±»å‹</th>
<th>å¯é€‰å€¼</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>render</td>
<td>è‡ªå®šä¹‰æ¸²æŸ“åˆ—ï¼Œä½¿ç”¨ Vue çš„ Render å‡½æ•°ã€‚ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ hï¼Œç¬¬äºŒä¸ªä¸ºå¯¹è±¡ï¼ŒåŒ…å« rowã€column å’Œ indexï¼Œåˆ†åˆ«æŒ‡å½“å‰è¡Œæ•°æ®ï¼Œå½“å‰åˆ—æ•°æ®ï¼Œå½“å‰è¡Œç´¢å¼•ï¼Œè¯¦è§ç¤ºä¾‹</td>
<td>function</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>renderHeader</td>
<td>è‡ªå®šä¹‰åˆ—å¤´æ˜¾ç¤ºå†…å®¹ï¼Œä½¿ç”¨ Vue çš„ Render å‡½æ•°ã€‚ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ hï¼Œç¬¬äºŒä¸ªä¸ºå¯¹è±¡ï¼ŒåŒ…å« column å’Œ indexï¼Œåˆ†åˆ«æŒ‡å½“å‰è¡Œæ•°æ®ï¼Œå½“å‰åˆ—æ•°æ®ï¼Œå½“å‰è¡Œç´¢å¼•ï¼Œè¯¦è§ç¤ºä¾‹</td>
<td>function</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>slot</td>
<td>ä¸ slot-scope ç»“åˆä½¿ç”¨ï¼Œè‡ªå®šä¹‰æ¸²æŸ“åˆ—</td>
<td>string</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>slotHeader</td>
<td>ä¸ slot-scope ç»“åˆä½¿ç”¨ï¼Œè‡ªå®šä¹‰åˆ—å¤´</td>
<td>string</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>valueType</td>
<td>å½“å‰åˆ—å€¼çš„ç±»å‹ï¼Œè¯¦è§ <a href="#valuetype">valueType</a> é…ç½®</td>
<td>string</td>
<td>text / date / dateTime</td>
<td>text</td>
</tr>
<tr>
<td>enum</td>
<td>å½“å‰åˆ—å€¼çš„æšä¸¾</td>
<td>object</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<blockquote>
<p>renderã€slotã€valueTypeã€enum åŒæ—¶é…ç½®æ—¶ï¼Œä¼šæœ‰æ¸²æŸ“ä¼˜å…ˆçº§ã€‚render æ¸²æŸ“çº§åˆ«æœ€é«˜ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼šrender &gt; slot &gt; valueType / enumã€‚é…ç½®è‡ªå®šä¹‰ header æ—¶åŒç†ã€‚</p>
</blockquote>
<h3 id="valuetype">ValueType</h3>
<p>å°è£…äº†ä¸€äº›å¸¸ç”¨çš„å€¼ç±»å‹æ¥å‡å°‘é‡å¤çš„ render æ“ä½œï¼Œé…ç½®ä¸€ä¸ª valueType å³å¯å±•ç¤ºæ ¼å¼åŒ–å“åº”çš„æ•°æ®ã€‚</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>æ™®é€šçš„æ–‡æœ¬ç±»å‹</td>
</tr>
<tr>
<td>date</td>
<td>å½“æ•°æ®æ˜¯æ—¥æœŸç±»å‹çš„è¿”å›æ—¶ï¼Œä¼šè‡ªåŠ¨å°†æ ¼å¼è½¬æ¢ä¸º '2020-10-20'</td>
</tr>
<tr>
<td>dateTime</td>
<td>å½“æ•°æ®æ˜¯æ—¥æœŸç±»å‹çš„è¿”å›æ—¶ï¼Œä¼šè‡ªåŠ¨å°†æ ¼å¼è½¬æ¢ä¸º '2020-10-20 19:30:00'</td>
</tr>
<tr>
<td>...</td>
<td>é™†ç»­æ·»åŠ ä¸­</td>
</tr>
</tbody>
</table>
<h3 id="table-events">Table Events</h3>
<table>
<thead>
<tr>
<th>äº‹ä»¶åç§°</th>
<th>è¯´æ˜</th>
<th>å›è°ƒå‚æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td>...</td>
<td><a href="https://element.eleme.cn/#/zh-CN/component/table#table-events">el-table</a> ç»„ä»¶æ”¯æŒçš„äº‹ä»¶</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="table-methods">Table Methods</h3>
<p>æ”¯æŒ <a href="https://element.eleme.cn/#/zh-CN/component/table#table-methods">el-table</a> æ‰€æœ‰çš„ methods.</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¼–å†™ä¸€ä¸ª markdown-loader]]></title>
        <id>https://jiangrubin.github.io/post/markdown-loader/</id>
        <link href="https://jiangrubin.github.io/post/markdown-loader/">
        </link>
        <updated>2021-02-11T13:34:50.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>é¡¹ç›®ä¸­æˆ‘ä»¬ä¼šç”¨åˆ°ä¸€äº› markdown æ–‡ä»¶ä½œä¸ºæ–‡æ¡£åœ¨é¡µé¢ä¸­å±•ç¤ºã€‚åŸºæœ¬åŸç†æ˜¯ç”¨ js å»è¯»å–è§£ææ–‡ä»¶ï¼Œæœ€åæ¸²æŸ“å‡ºæ¥ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ webpack ç¼–è¯‘çš„è¿‡ç¨‹ä¸­å°† markdown æ–‡ä»¶ç¼–è¯‘ä¸º js æ¨¡å—ï¼Œç„¶ååœ¨é¡µé¢ä¸­ç›´æ¥å¼•å…¥ã€‚</p>
<p>åœ¨äº†è§£ webpack ä¹‹åçŸ¥é“ï¼Œæ¯ä¸€ä¸ª loader å…¶å®éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ¥æ”¶èµ„æºï¼Œè¿›è¡Œä¸€å®šçš„å¤„ç†ä¹‹åè¾“å‡ºç»™ä¸‹ä¸€ä¸ª loaderã€‚æ˜ç™½äº†è¿™ä¸ªåŸºæœ¬åŸç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„ loaderã€‚</p>
<p>è¯ä¸å¤šè¯´ï¼Œè¿›å…¥æ­£é¢˜ã€‚</p>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<p>å…¶ä¸­æ ¸å¿ƒåº“ä½¿ç”¨äº† <a href="https://github.com/markdown-it/markdown-it">markdown-it</a>ã€<a href="https://github.com/medfreeman/markdown-it-toc-and-anchor">markdown-it-toc-and-anchor</a>ï¼Œå°† md æ–‡ä»¶è½¬ä¸º html å­—ç¬¦ä¸²ï¼Œä»¥åŠè·å– md å†…å®¹ä¸­çš„æ ‡é¢˜ç›®å½•åˆ—è¡¨ã€‚</p>
<p>åˆ›å»º <code>markdown-loader.js</code> æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">const MarkdownIt = require('markdown-it')
const MarkdownItTocAndAnchor = require(&quot;markdown-it-toc-and-anchor&quot;).default

const markdownIt = new MarkdownIt({
  html: true
}).use(MarkdownItTocAndAnchor, {
  anchorLink: false
})

module.exports = function (source) {
  let tocArray = []
  
  let content = markdownIt.render(source, {
    tocCallback (markdown, array, html) {
      tocArray = array
    }
  })

  // æœ€åè¿”å›ä¸€ä¸ª js å¯¹è±¡ï¼ŒåŒ…å«æ–‡æœ¬å†…å®¹å’Œç›®å½•åˆ—è¡¨ä¸¤ä¸ªå±æ€§
  return `export default {
    content: \`${content}\`,
    tocArray: ${JSON.stringify(tocArray)}
  }`
}
</code></pre>
<p>å‡è®¾ä½¿ç”¨ vue-cli æ­å»ºçš„é¡¹ç›®ï¼Œå¯åœ¨ <code>vue.config.js</code> ä¸­é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">const path = require('path')

module.exports = {
  chainWebpack: config =&gt; {
    config
      .module
      .rule('md')
      .test(/\.md$/)
      .use('markdown-loader')
      .loader(path.resolve(__dirname, './markdown-loader.js'))
      .end()
  }
}
</code></pre>
<p>åœ¨æ–‡ä»¶ä¸­å¼•å…¥ md æ–‡ä»¶ï¼ŒæŸ¥çœ‹æ‰“å°è¾“å‡ºã€‚</p>
<pre><code class="language-js">import demo from './demo.md'

console.log(demo);
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/5465D8631B75.jpg" alt="" loading="lazy"></figure>
<h2 id="ä½¿ç”¨">ä½¿ç”¨</h2>
<pre><code class="language-js">&lt;template&gt;
  &lt;div class=&quot;doc&quot;&gt;
    &lt;div class=&quot;doc-summary&quot;&gt;
      &lt;ul class=&quot;doc-toc&quot;&gt;
        &lt;template v-for=&quot;(item, i) of tocArray&quot;&gt;
          &lt;li :class=&quot;doc-toc-item&quot; :key=&quot;i&quot;&gt;{{ item.content }}&lt;/li&gt;
        &lt;/template&gt;
      &lt;/ul&gt;
    &lt;/div&gt;

    &lt;div class=&quot;doc-main&quot;&gt;
      &lt;section class=&quot;doc-content markdown-body&quot; v-html=&quot;content&quot;&gt;&lt;/section&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import demo from './demo.md'

export default {
  data () {
    return {
      content: '',
      tocArray: [],
    }
  },
  created () {
    const { content, tocArray } = demo
    this.content = content
    this.tocArray = tocArray
  }
}
&lt;/script&gt;

&lt;style lang=&quot;scss&quot;&gt;
// ä½¿ç”¨ç¤¾åŒºä¸­æä¾›çš„ github-markdown-css æ ·å¼ï¼Œå°±å¯ä»¥æœ‰å’Œ github ä¸€æ ·çš„æ•ˆæœäº†ã€‚
// https://github.com/sindresorhus/github-markdown-css
@import './github-markdown.css';

...
&lt;/style&gt;
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host@master/0AF8ED7086F6.jpeg" alt="" loading="lazy"></figure>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>åœ¨é¡¹ç›®ä¸­å†™ä¸€äº›å°å·¥å…·è¿˜æ˜¯è›®æœ‰æ„æ€çš„ ğŸ˜˜</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¾®ä¿¡å°ç¨‹åºå¼€å‘ç¬”è®°]]></title>
        <id>https://jiangrubin.github.io/post/wei-xin-xiao-cheng-xu-kai-fa-bi-ji/</id>
        <link href="https://jiangrubin.github.io/post/wei-xin-xiao-cheng-xu-kai-fa-bi-ji/">
        </link>
        <updated>2020-09-27T03:03:46.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>æœ€è¿‘åœ¨å¼€å‘å°ç¨‹åºé¡¹ç›®ï¼Œå°†é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜å’Œè¦ç‚¹è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åæŸ¥é˜…ã€‚</p>
<h2 id="å­—ä½“">å­—ä½“</h2>
<h3 id="å…¨å±€å­—ä½“">å…¨å±€å­—ä½“</h3>
<p>é¡¹ç›®ä¸­ä½¿ç”¨äº† <a href="https://vant-contrib.gitee.io/vant-weapp/#/intro">vant-weapp</a>ï¼Œæœ‰èµå¼€æºçš„å°ç¨‹åºç»„ä»¶åº“ã€‚</p>
<p>ä¸ºä¿è¯åœ¨ä¸åŒè®¾å¤‡ä¸Šæä¾›æœ€ä½³çš„è§†è§‰ä½“éªŒï¼Œä¸”ä¸ç»„ä»¶åº“é£æ ¼ç»Ÿä¸€ï¼Œå¯åœ¨ app.wxss ä¸­è®¾ç½®ä»¥ä¸‹å…¨å±€å­—ä½“ã€‚</p>
<pre><code class="language-css">page {
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica,
    Segoe UI, Arial, Roboto, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft Yahei',
    sans-serif;
}
</code></pre>
<h3 id="å­—å·å•ä½">å­—å·å•ä½</h3>
<p>å­—å·å•ä½ç”¨ pxï¼Œä¸åŒåˆ†è¾¨ç‡è®¾å¤‡ä¸Šå­—ä½“å¤§å°ä¿æŒä¸€è‡´ï¼Œå–å€¼å°½é‡æ˜¯å¶æ•°ã€‚</p>
<p>å¯ä»¥å°†å¸¸ç”¨çš„å­—å·å†™æˆ css å˜é‡ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚</p>
<pre><code class="language-css">page {
    --font-size-xs: 10px;
    --font-size-sm: 12px;
    --font-size-md: 14px;
    --font-size-lg: 16px;
    --font-size-xl: 18px;
    --font-size-xxl: 24px;
}

view {
    font-size: var(--font-size-md);
}
</code></pre>
<h2 id="å›¾ç‰‡èµ„æº">å›¾ç‰‡èµ„æº</h2>
<p>é¡¹ç›®ä¸­ç»å¸¸ä¼šä½¿ç”¨å›¾ç‰‡ã€SVG ç­‰æ–‡ä»¶ï¼Œè€Œè¿™äº›æ–‡ä»¶å æ®é¡¹ç›®ä½“ç§¯å¾ˆå¤§çš„æ¯”é‡ã€‚å› å°ç¨‹åºåŒ…ä½“ç§¯é™åˆ¶ï¼Œéœ€è¦å¯¹å›¾ç‰‡æ–‡ä»¶è¿›è¡Œå‹ç¼©å¤„ç†ã€‚</p>
<ul>
<li>
<p><a href="https://tinypng.com/">TinyPNG å›¾ç‰‡å‹ç¼©</a></p>
</li>
<li>
<p><a href="https://www.zhangxinxu.com/sp/svgo/">SVG åœ¨çº¿å‹ç¼©åˆå¹¶å·¥å…·</a></p>
</li>
</ul>
<h2 id="wxs-å·¥å…·æ–¹æ³•">WXS å·¥å…·æ–¹æ³•</h2>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/">WXS</a> æ˜¯å°ç¨‹åºçš„ä¸€å¥—è„šæœ¬è¯­è¨€ã€‚æ‰€è¯´è·Ÿ JavaScript ç±»ä¼¼ä½†å…¶ä¸­æœ‰ä¸€äº›å‘ã€‚æ¯”å¦‚ä¸èƒ½éå†å¯¹è±¡ã€‚æ²¡æœ‰ Object å¯¹è±¡ï¼Œä¸èƒ½ä½¿ç”¨ <code>for ... in ...</code>ã€‚å°ç¨‹åºç¤¾åŒºé‡Œä¹Ÿæœ‰å…³äºè¿™ä¸ªçš„<a href="https://developers.weixin.qq.com/community/develop/doc/000680569f81100755279069856000?highLine=wxs%2520%25E9%2581%258D%25E5%258E%2586%25E5%25AF%25B9%25E8%25B1%25A1">åæ§½</a>ã€‚</p>
<p>åªèƒ½é€šè¿‡æ­£åˆ™çš„æ–¹å¼æ¥å®ç°å¯¹è±¡çš„éå†æ–¹æ³•ï¼š</p>
<pre><code class="language-js">// object.wxs
var REGEXP = getRegExp('{|}|&quot;', 'g');

function keys (obj) {
  return JSON.stringify(obj)
    .replace(REGEXP, '')
    .split(',')
    .map(function(item) {
      return item.split(':')[0]
    })
}

function values (obj) {
  return JSON.stringify(obj)
    .replace(REGEXP, '')
    .split(',')
    .map(function(item) {
      return item.split(':')[1]
    })
}

module.exports = {
  keys: keys,
  values: values,
}
</code></pre>
<h2 id="iphonex-é€‚é…">iPhoneX é€‚é…</h2>
<p>å±å¹•ä¸Šè¾¹æ¡†ï¼Œå³è¾¹æ¡†ï¼Œä¸‹è¾¹æ¡†ï¼Œå·¦è¾¹æ¡†å®‰å…¨è·ç¦»ï¼š</p>
<pre><code>safe-area-inset-top
safe-area-inset-right
safe-area-inset-bottom
safe-area-inset-left
</code></pre>
<p>ä½¿ç”¨ï¼š</p>
<p>iOS 11</p>
<pre><code class="language-css">padding-top: constant(safe-area-inset-top);
padding-right: constant(safe-area-inset-right);
padding-bottom: constant(safe-area-inset-bottom);
padding-left: constant(safe-area-inset-left);
</code></pre>
<p>iOS 11.2 beta åŠå…¶å</p>
<pre><code class="language-css">padding-top: env(safe-area-inset-top);
padding-right: env(safe-area-inset-right);
padding-bottom: env(safe-area-inset-bottom);
padding-left: env(safe-area-inset-left);
</code></pre>
<p>å…¼å®¹æ€§å†™æ³•ï¼š</p>
<pre><code class="language-css">padding-top: constant(safe-area-inset-top);
padding-top: env(safe-area-inset-top);
</code></pre>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://webkit.org/blog/7929/designing-websites-for-iphone-x/?hmsr=funteas.com&amp;utm_medium=funteas.com&amp;utm_source=funteas.com">è‹¹æœå®˜æ–¹æ–‡æ¡£</a></p>
<h2 id="ios-ä¸­-promise-å¯¹è±¡ä¸å­˜åœ¨-finally-æ–¹æ³•">iOS ä¸­ Promise å¯¹è±¡ä¸å­˜åœ¨ finally æ–¹æ³•</h2>
<p>åœ¨å¼€å‘è€…å·¥å…·ä¸­æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œåªåœ¨ iOS çœŸæœºä¸­å­˜åœ¨ã€‚ä¸çŸ¥å°ç¨‹åºå®˜æ–¹æ˜¯å¦ä¿®å¤äº†æ­¤ bugã€‚</p>
<p>åœ¨ app.js ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-js">if (!Promise.prototype.finally) {
  Promise.prototype.finally = function (callback) {
    this.then(res =&gt; {
      callback &amp;&amp; callback(res)
    }, error =&gt; {
      callback &amp;&amp; callback(error)
    })
  }
}
</code></pre>
<h2 id="å¼•å…¥è·¯å¾„">å¼•å…¥è·¯å¾„</h2>
<p>åœ¨å°ç¨‹åºä¸­ <code>import ... from ...</code> å’Œ <code>require</code> ä¸æ”¯æŒç»å¯¹è·¯å¾„ã€‚åªèƒ½ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•å…¥ï¼Œå¦‚æœç›®å½•è¿‡æ·±å°±ä¼šå†™æˆ <code>../../../../util.js</code>ï¼Œä¸å¤Ÿç›´è§‚ä¼˜é›…ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼˜åŒ–å¼•å…¥ï¼š</p>
<pre><code class="language-js">// app.js ä¸­
App({
    require (path) {
        return require(`${path}`)
    }
})
</code></pre>
<p>åœ¨å…¶ä»– page å’Œç»„ä»¶ä¸­ï¼Œå°±å¯ä»¥ç»Ÿä¸€ç›¸å¯¹äºæ ¹è·¯å¾„å¼•å…¥ã€‚</p>
<pre><code class="language-js">const app = getApp()
const { formatTime } = app.require('/utils/util')
</code></pre>
<h2 id="sku-å•†å“è§„æ ¼">SKU å•†å“è§„æ ¼</h2>
<blockquote>
<p>SKU æ˜¯æŒ‡ç‰©ç†ä¸Šä¸å¯åˆ†å‰²çš„æœ€å°å­˜è´§å•å…ƒ</p>
</blockquote>
<p>å¼€å‘çš„æ˜¯ç”µå•†ç±»å‹é¡¹ç›®ï¼ŒSKU å•†å“è§„æ ¼é€‰æ‹©åŠŸèƒ½æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä¹Ÿæ˜¯é¡¹ç›®ä¸­æ¯”è¾ƒå¤æ‚çš„åŠŸèƒ½ã€‚å°†åŠŸèƒ½å°è£…ä¸ºç»„ä»¶ï¼Œå…·ä½“çš„ä»£ç æŸ¥çœ‹è¯¥<a href="https://github.com/jiangrubin/weapp-sku">åœ°å€</a>ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/406936562400.png" alt="" loading="lazy"></figure>
<h3 id="ç¬›å¡å°”ç§¯åº”ç”¨">ç¬›å¡å°”ç§¯åº”ç”¨</h3>
<p>SKU å•†å“è§„æ ¼é€‰æ‹©æ˜¯ C ç«¯çš„åŠŸèƒ½ï¼Œå…¶ä¸­è¿˜æ¶‰åŠåˆ°å¦‚ä½•ç”Ÿæˆå•†å“ SKU æ•°æ®ã€‚ä¹Ÿå°±æ˜¯ç¬›å¡å°”ç§¯çš„åº”ç”¨ã€‚</p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé€šè¿‡â€œé¢œè‰²â€å’Œâ€œå°ºå¯¸â€2ä¸ªé”€å”®å±æ€§æ¥ç”Ÿæˆå•†å“çš„ SKUï¼Œå°±éœ€è¦å¯¹å±æ€§çš„å€¼åšç¬›å¡å°”ç§¯ï¼Œå…¶ä¸­æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">/**
 * @desc å¤šæ•°ç»„æ±‚ç¬›å¡å°”ç§¯
 * @param { Array } array [['ç²‰è‰²', 'é»„è‰²', 'è“è‰²'], ['å¤§', 'å°']]
 * @return { Array } ['ç²‰è‰²', 'å¤§'], ['ç²‰è‰²', 'å°'], ['é»„è‰²', 'å¤§'], ['é»„è‰²', 'å°'], ['è“è‰²', 'å¤§'], ['è“è‰²', 'å°']
 */
function cartesianProduct (array) {
  return array.reduce(function (a, b) {
    return a.map(function (x) {
      return b.map(function (y) {
        return x.concat(y)
      })
    }).reduce(function (a, b) { return a.concat(b) }, [])
  }, [[]])
}
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>è¿™äº›éƒ½æ˜¯æœ€è¿‘é¡¹ç›®ä¸­è®°å½•ä¸‹æ¥çš„ï¼Œæ¬¢è¿å¤§å®¶äº¤æµï¼Œä»¥åå¼€å‘ä¸­ç¢°åˆ°äº†å…¶ä»–é—®é¢˜ä¹Ÿä¼šæŒç»­æ›´æ–°çš„ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ•°æ®ç»“æ„ä¸ç®—æ³• â€” é€’å½’]]></title>
        <id>https://jiangrubin.github.io/post/shu-ju-jie-gou-yu-suan-fa-di-gui/</id>
        <link href="https://jiangrubin.github.io/post/shu-ju-jie-gou-yu-suan-fa-di-gui/">
        </link>
        <updated>2020-05-31T07:17:07.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>é€’å½’æ˜¯ç®—æ³•ä¸­ä¸€ç§éå¸¸é‡è¦çš„æ€æƒ³ï¼Œåº”ç”¨éå¸¸å¹¿æ³›ã€‚æ˜¯DFSã€åˆ†æ²»æ³•ã€å›æº¯ã€äºŒå‰æ ‘éå†ç­‰æ–¹æ³•çš„åŸºç¡€ã€‚å…ˆä»å­¦ä¹ è¿™äº›æ–¹æ³•çš„åŸºç¡€å¼€å§‹ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯é€’å½’">ä»€ä¹ˆæ˜¯é€’å½’</h2>
<p>ç¨‹åºè°ƒç”¨è‡ªèº«çš„ç¼–ç¨‹æŠ€å·§ç§°ä¸ºé€’å½’ï¼ˆ recursionï¼‰ã€‚ ä¸€ä¸ªè¿‡ç¨‹æˆ–å‡½æ•°åœ¨å…¶å®šä¹‰æˆ–è¯´æ˜ä¸­æœ‰ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è‡ªèº«çš„ä¸€ç§æ–¹æ³•ï¼Œå®ƒé€šå¸¸æŠŠä¸€ä¸ªå¤§å‹å¤æ‚çš„é—®é¢˜å±‚å±‚è½¬åŒ–ä¸ºä¸€ä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼çš„è§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ã€‚</p>
<p>åƒä¸‹é¢è¿™æ ·ç›´æ¥è°ƒç”¨è‡ªèº«çš„å‡½æ•°ï¼š</p>
<pre><code class="language-js">function recursion(param){
    recursion(param)
}
</code></pre>
<p>é—´æ¥è°ƒç”¨è‡ªèº«çš„å‡½æ•°ï¼Œä¹Ÿæ˜¯é€’å½’å‡½æ•°ï¼š</p>
<pre><code class="language-js">function recursion1(param){
    recursion2(param)
}

function recursion2(param){
    recursion1(param)
}
</code></pre>
<p>å‡è®¾ç°åœ¨æ‰§è¡Œ recursion å‡½æ•°ï¼Œå°±ä¸Šè¿°æƒ…å†µè€Œè¨€ï¼Œå…¶ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ã€‚å› æ­¤ï¼Œæ¯ä¸ªé€’å½’å‡½æ•°éƒ½å¿…é¡»è¦æœ‰è¾¹ç•Œæ¡ä»¶ï¼Œå³ä¸€ä¸ªä¸å†é€’å½’è°ƒç”¨çš„æ¡ä»¶ï¼Œä»¥é˜²æ­¢æ— é™é€’å½’ã€‚</p>
<p>å¦‚æœå¿˜è®°åŠ ä¸Šç”¨ä»¥åœæ­¢å‡½æ•°é€’å½’è°ƒç”¨çš„è¾¹ç•Œæ¡ä»¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œï¼Œé€’å½’å¹¶ä¸ä¼šæ— é™åœ°æ‰§è¡Œä¸‹å»ï¼Œæµè§ˆå™¨ä¼šæŠ›å‡ºé”™è¯¯ <code>Maximum call stack size exceeded</code> ä¹Ÿå°±æ˜¯æ‰€è°“çš„æ ˆæº¢å‡ºã€‚</p>
<p>ä»¥é˜¶ä¹˜ä¸ºä¾‹ï¼Œä½“ä¼šä¸€ä¸‹é€’å½’ï¼š</p>
<pre><code class="language-js">function factorial(n) {
    if (n &lt;= 1) {
        return 1
    }
    return n * factorial(n - 1)
}

factorial(6) // 6 * 5 * 4 * 3 * 2 * 1 = 720
</code></pre>
<p>factorial æ˜¯ä¸€ä¸ªå®ç°é˜¶ä¹˜çš„å‡½æ•°ï¼Œæ¥çœ‹ä¸‹å®ƒçš„è°ƒç”¨è¿‡ç¨‹ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1590918559854.jpg" alt="" loading="lazy"></figure>
<p>ä»è¿™ä¸ªä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼Œé˜¶ä¹˜ä¸­çš„ <code>n &lt;= 1</code> æ˜¯è¾¹ç•Œæ¡ä»¶ï¼Œå½“è¾¹ç•Œæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œé€’å½’å‰è¿›ï¼Œå½“è¾¹ç•Œæ¡ä»¶æ»¡è¶³æ—¶ï¼Œé€’å½’è¿”å›ã€‚æ„æˆé€’å½’éœ€å…·å¤‡è¾¹ç•Œæ¡ä»¶ã€é€’å½’å‰è¿›æ®µå’Œé€’å½’è¿”å›æ®µã€‚</p>
<h2 id="æ–æ³¢é‚£å¥‘æ•°åˆ—">æ–æ³¢é‚£å¥‘æ•°åˆ—</h2>
<p>æ–æ³¢é‚£å¥‘æŒ‡çš„æ˜¯è¿™æ ·ä¸€ä¸ªæ•°åˆ—ï¼š1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34 ...ï¼Œè¿™ä¸ªæ•°åˆ—ä»ç¬¬3é¡¹å¼€å§‹ï¼Œæ¯ä¸€é¡¹éƒ½ç­‰äºå‰ä¸¤é¡¹ä¹‹å’Œã€‚</p>
<h3 id="é€’å½’å®ç°">é€’å½’å®ç°</h3>
<pre><code class="language-js">function fibonacci(n) {
    if (n &lt;= 2) {
        return 1
    }
    return fibonacci(n - 1) + fibonacci(n - 2)
}

console.log(fibonacci(6)) // 8
</code></pre>
<p>ä½†æ˜¯å½“å‚æ•° n å˜å¤§æ—¶ï¼Œæµè§ˆå™¨å¡æ­»äº†ã€‚åŸå› æ˜¯æ­¤å‡½æ•°ä¸­å­˜åœ¨ç€å¤§é‡çš„å†—ä½™è®¡ç®—ï¼Œå¹¶ä¸” n è¶Šå¤§ï¼Œå†—ä½™çš„è¶Šå¤šã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1590919586864.png" alt="" loading="lazy"></figure>
<p>å›¾ä¸­æ¯ä¸ªåˆ†æ”¯ä¸Šçš„å‡½æ•°éƒ½æ˜¯å•ç‹¬è°ƒç”¨çš„ï¼Œå¹¶ä¸”éƒ½æ˜¯é‡å¤çš„è°ƒç”¨ï¼Œé’ˆå¯¹è¿™ç§å†—ä½™è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥åšç›¸å…³çš„ä¼˜åŒ–ï¼Œä¼˜åŒ–çš„æ€è·¯éƒ½æ˜¯å‡å°‘ç›¸åŒå‡½æ•°çš„é‡å¤è°ƒç”¨ã€‚</p>
<h3 id="è¿­ä»£å®ç°">è¿­ä»£å®ç°</h3>
<pre><code class="language-js">function fibonacci(num){
    var n1 = 1,
    n2 = 1,
    n = 1;
    for (var i = 3; i &lt;= num; i++){
        n = n1 + n2;
        n1 = n2;
        n2 = n;
    }
    return n;
} 
</code></pre>
<h3 id="å°¾è°ƒç”¨ä¼˜åŒ–">å°¾è°ƒç”¨ä¼˜åŒ–</h3>
<pre><code class="language-js">function fibonacci (n, res1 = 1, res2 = 1) {
    if (n &lt;= 2) {
        return res2
    }
    return fibonacci(n - 1, res2, res1 + res2)
}
</code></pre>
<h2 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h2>
<p>ä¸€äº› JavaScript çš„å·¥å…·æ–¹æ³•ä¸­æ¶‰åŠåˆ°äº†é€’å½’ã€‚</p>
<h3 id="æ·±æ‹·è´">æ·±æ‹·è´</h3>
<pre><code class="language-js">function deepCopy (data) {
    // æ•°æ®ç±»å‹åˆ¤æ–­å‡½æ•°ï¼Œè§ä¸‹
    const t = typeOf(data)
    let o

    if (t === 'array') {
        o = []
    } else if (t === 'object') {
        o = {}
    } else {
        return data
    }

    for (var key in data) {
        o[key] = deepCopy(data[key])
    }

    return o
}

function typeOf (obj) {
    const toString = Object.prototype.toString
    const map = {
        '[object Boolean]': 'boolean',
        '[object Number]': 'number',
        '[object String]': 'string',
        '[object Function]': 'function',
        '[object Array]': 'array',
        '[object Date]': 'date',
        '[object RegExp]': 'regExp',
        '[object Undefined]': 'undefined',
        '[object Null]': 'null',
        '[object Object]': 'object'
    }
    return map[toString.call(obj)]
}
</code></pre>
<h3 id="æ•°ç»„æ‰å¹³åŒ–">æ•°ç»„æ‰å¹³åŒ–</h3>
<pre><code class="language-js">function flatten(arr) {
    return arr.reduce(function(prev, next){
        return prev.concat(Array.isArray(next) ? flatten(next) : next)
    }, [])
}
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å­¦ä¹ äº†é€’å½’çš„åŸºæœ¬ä½¿ç”¨å’Œå®ç°äº† JavaScript ä¸­å¸¸ç”¨çš„å·¥å…·æ–¹æ³•ã€‚å…³äºé€’å½’çš„å†…å®¹è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚è¿˜æœ‰æ±‰è¯ºå¡”ã€äºŒå‰æ ‘éå†ç­‰é€’å½’åœºæ™¯ã€‚ç®—æ³•ä¹‹è·¯æ¼«æ¼« ğŸ˜¬ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ•°æ®ç»“æ„ä¸ç®—æ³• â€” æ’åº]]></title>
        <id>https://jiangrubin.github.io/post/shu-ju-jie-gou-yu-suan-fa-pai-xu/</id>
        <link href="https://jiangrubin.github.io/post/shu-ju-jie-gou-yu-suan-fa-pai-xu/">
        </link>
        <updated>2020-04-27T11:41:27.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<blockquote>
<p>ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³•</p>
</blockquote>
<p>è¦æƒ³åœ¨ç¼–ç¨‹ä¹‹è·¯èµ°çš„æ›´è¿œï¼Œå­¦å¥½æ•°æ®ç»“æ„ä¸ç®—æ³•å¾ˆé‡è¦ã€‚æ‰€ä»¥æŠŠå­¦ä¹ çš„æ€»ç»“å†™æˆä¸€ä¸ªç³»åˆ—ï¼Œä½¿ç”¨è‡ªå·±ç†Ÿæ‚‰çš„ JavaScript è¯­è¨€ï¼Œæ—¨åœ¨å…¥é—¨æ•°æ®ç»“æ„ä¸ç®—æ³•å’Œæ–¹ä¾¿ä»¥åå¤ä¹ ã€‚</p>
<p>å…ˆä»ç®—æ³•é¢†åŸŸé‡ŒåŸºç¡€çš„æ’åºç®—æ³•å¼€å§‹ã€‚</p>
<h2 id="ç»å…¸æ’åºç®—æ³•å¯¹æ¯”">ç»å…¸æ’åºç®—æ³•å¯¹æ¯”</h2>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588420187412.jpg" alt="" loading="lazy"></figure>
<p><strong>åè¯è§£é‡Šï¼š</strong></p>
<p><strong>n</strong>: å¾…æ’åºåˆ—çš„ä¸ªæ•°<br>
<strong>k</strong>: â€œæ¡¶â€çš„ä¸ªæ•°<br>
<strong>In-place</strong>: åŸåœ°ç®—æ³•ï¼ŒæŒ‡çš„æ˜¯å ç”¨å¸¸ç”¨å†…å­˜ï¼Œä¸å ç”¨é¢å¤–å†…å­˜ã€‚ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„éƒ½å¯ä»¥è®¤ä¸ºæ˜¯åŸåœ°ç®—æ³•<br>
<strong>Out-place</strong>: éåŸåœ°ç®—æ³•ï¼Œå ç”¨é¢å¤–å†…å­˜<br>
<strong>ç¨³å®šæ€§</strong>ï¼šæ’åºå2ä¸ªç›¸ç­‰é”®å€¼çš„é¡ºåºå’Œæ’åºä¹‹å‰å®ƒä»¬çš„é¡ºåºç›¸åŒ</p>
<h2 id="å†’æ³¡æ’åº">å†’æ³¡æ’åº</h2>
<p>å†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚</p>
<p><strong>ç®—æ³•æè¿°ï¼š</strong></p>
<ol>
<li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªã€‚</li>
<li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”æ˜¯æœ€å¤§çš„æ•°ã€‚</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚</li>
<li>é‡å¤æ­¥éª¤1~3ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚</li>
</ol>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588422112893.gif" alt="" loading="lazy"></figure>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="language-js">function bubbleSort(array) {
    var length = array.length
    for (var i = 0; i &lt; length; i++) {
        // length - 1 - i ä»å†…å¾ªç¯å‡å»å¤–å¾ªç¯ä¸­å·²è·‘è¿‡çš„è½®æ•°ï¼Œå°±å¯ä»¥é¿å…å†…å¾ªç¯ä¸­æ‰€æœ‰ä¸å¿…è¦çš„æ¯”è¾ƒ
        for (var j = 0; j &lt; length - 1 - i; j++) {
            // å¦‚æœå½“å‰é¡¹æ¯”ä¸‹ä¸€é¡¹å¤§ï¼Œåˆ™ä½¿ç”¨ä¸­é—´å€¼è¿›è¡Œäº¤æ¢
            if (array[j] &gt; array[j + 1]) {
                var temp = array[j] 
                array[j] = array[j + 1]
                array[j + 1] = temp
            }
        }
    }
    return array
}

bubbleSort([3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48])
// [2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]
</code></pre>
<h2 id="é€‰æ‹©æ’åº">é€‰æ‹©æ’åº</h2>
<p>é€‰æ‹©æ’åºç®—æ³•æ˜¯ä¸€ç§åŸå€æ¯”è¾ƒæ’åºç®—æ³•ã€‚é€‰æ‹©æ’åºå¤§è‡´çš„æ€è·¯æ˜¯æ‰¾åˆ°æ•°æ®ç»“æ„ä¸­çš„æœ€å°å€¼å¹¶<br>
å°†å…¶æ”¾ç½®åœ¨ç¬¬ä¸€ä½ï¼Œæ¥ç€æ‰¾åˆ°ç¬¬äºŒå°çš„å€¼å¹¶å°†å…¶æ”¾åœ¨ç¬¬äºŒä½ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588422191480.gif" alt="" loading="lazy"></figure>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="language-js">function selectionSort (array) {
    var length = array.length
    var minIndex, temp
    for (var i = 0; i &lt; length - 1; i ++) {
        minIndex = i // å‡è®¾æœ¬æ¬¡å¾ªç¯çš„ç¬¬ä¸€ä¸ªå€¼ä¸ºæ•°ç»„æœ€å°å€¼
        for (var j = i + 1; j &lt; length; j++) {
            // æ¯”è¾ƒä½ç½®jçš„å€¼æ˜¯å¦æ¯”å½“å‰æœ€å°å€¼å°
            if (array[j] &lt; array[minIndex]) {
                minIndex = j // å¦‚æœæ˜¯ï¼Œåˆ™æ”¹å˜æœ€å°å€¼çš„ç´¢å¼•
            }
        }
        // å¦‚æœè¯¥æœ€å°å€¼å’ŒåŸæœ€å°å€¼ä¸åŒï¼Œåˆ™äº¤æ¢å…¶å€¼
        if (i !== minIndex) {
            temp = array[i]
            array[i] = array[minIndex]
            array[minIndex] = temp
        }
    }
    return array
}

selectionSort([3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48])
// [2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]
</code></pre>
<p>é€‰æ‹©æ’åºåŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªå¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> çš„ç®—æ³•ã€‚å’Œå†’æ³¡æ’åºä¸€æ ·ï¼Œå®ƒåŒ…å«æœ‰åµŒå¥—çš„ä¸¤ä¸ªå¾ªç¯ï¼Œè¿™å¯¼è‡´äº†äºŒæ¬¡æ–¹çš„å¤æ‚åº¦ã€‚</p>
<h2 id="æ’å…¥æ’åº">æ’å…¥æ’åº</h2>
<p>æ’å…¥æ’åºæ¯æ¬¡æ’ä¸€ä¸ªæ•°ç»„é¡¹ï¼Œä»¥æ­¤æ–¹å¼æ„å»ºæœ€åçš„æ’åºæ•°ç»„ã€‚å‡å®šç¬¬ä¸€é¡¹å·²ç»æ’åºäº†ã€‚å–ç¬¬äºŒé¡¹å‘å‰è¿›è¡Œæ¯”è¾ƒï¼Œç¬¬äºŒé¡¹æ˜¯åº”è¯¥å¾…åœ¨åŸä½è¿˜æ˜¯æ’åˆ°ç¬¬ä¸€é¡¹ä¹‹å‰å‘¢ï¼Ÿè¿™æ ·ï¼Œå¤´ä¸¤é¡¹å°±å·²æ­£ç¡®æ’åºï¼Œæ¥ç€å’Œç¬¬ä¸‰é¡¹æ¯”è¾ƒï¼ˆå®ƒæ˜¯è¯¥æ’å…¥åˆ°ç¬¬ä¸€ã€ç¬¬äºŒè¿˜æ˜¯ç¬¬ä¸‰çš„ä½ç½®å‘¢ï¼Ÿï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<figure data-type="image" tabindex="4"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588422221669.gif" alt="" loading="lazy"></figure>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="language-js">function insertionSort (array) {
    var length = array.length
    var j, temp
    // æ˜¯ä»ç¬¬äºŒä¸ªä½ç½®ï¼ˆç´¢å¼•1ï¼‰è€Œä¸æ˜¯0ä½ç½®å¼€å§‹çš„ï¼ˆå‡å®šç¬¬ä¸€é¡¹å·²æ’åºäº†ï¼‰
    for (var i = 1; i &lt; length; i ++) {
        // ç”¨içš„å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªè¾…åŠ©å˜é‡å¹¶å°†å…¶å€¼äº¦å­˜å‚¨äºä¸€ä¸´æ—¶å˜é‡ä¸­ï¼Œä¾¿äºä¹‹åå°†å…¶æ’å…¥åˆ°æ­£ç¡®çš„ä½ç½®ä¸Š
        j = i
        temp = array[i]
        // è¦å˜é‡jæ¯”0å¤§ï¼Œå¹¶ä¸”æ•°ç»„ä¸­å‰é¢çš„å€¼æ¯”å¾…æ¯”è¾ƒçš„å€¼å¤§
        // å°±æŠŠè¿™ä¸ªå€¼ç§»åˆ°å½“å‰ä½ç½®ä¸Šå¹¶å‡å°j
        while (j &gt; 0 &amp;&amp; array[j - 1] &gt; temp) {
            array[j] = array[j - 1]
            j--
        }
        array[j] = temp
    }
    return array
}
</code></pre>
<h2 id="å½’å¹¶æ’åº">å½’å¹¶æ’åº</h2>
<p>å½’å¹¶æ’åºæ˜¯ä¸€ç§åˆ†æ²»ç®—æ³•ã€‚å…¶æ€æƒ³æ˜¯å°†åŸå§‹æ•°ç»„åˆ‡åˆ†æˆè¾ƒå°çš„æ•°ç»„ï¼Œç›´åˆ°æ¯ä¸ªå°æ•°ç»„åªæœ‰ä¸€<br>
ä¸ªä½ç½®ï¼Œæ¥ç€å°†å°æ•°ç»„å½’å¹¶æˆè¾ƒå¤§çš„æ•°ç»„ï¼Œç›´åˆ°æœ€ååªæœ‰ä¸€ä¸ªæ’åºå®Œæ¯•çš„å¤§æ•°ç»„ã€‚</p>
<figure data-type="image" tabindex="5"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588422563704.gif" alt="" loading="lazy"></figure>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="language-js">function mergeSort (array) {
    var length = array.length
    // ç”±äºç®—æ³•æ˜¯é€’å½’ï¼Œéœ€è¦ä¸€ä¸ªåœæ­¢æ¡ä»¶
    if (length &lt;= 1) {
        return array
    }
    // å¦‚æœæ•°ç»„é•¿åº¦å¤§äº1ï¼Œé¦–å…ˆæ˜¯æ‰¾åˆ°æ•°ç»„çš„ä¸­é—´ä½ï¼Œä¹‹åå°†æ•°ç»„åˆ†æˆleftã€rightä¸¤ä¸ªå°æ•°ç»„
    var mid = Math.floor(length / 2)
    var left = array.slice(0, mid)
    var right = array.slice(mid)
    // è°ƒç”¨mergeå‡½æ•°ï¼Œå®ƒè´Ÿè´£åˆå¹¶å’Œæ’åºå°æ•°ç»„æ¥äº§ç”Ÿå¤§æ•°ç»„
    // ä¸ºäº†ä¸æ–­å°†åŸå§‹æ•°ç»„åˆ†æˆå°æ•°ç»„ï¼Œæˆ‘ä»¬å¾—å†æ¬¡å¯¹leftæ•°ç»„å’Œrightæ•°ç»„é€’å½’è°ƒç”¨mergeSortï¼Œå¹¶åŒæ—¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™mergeå‡½æ•°
    return merge(mergeSort(left), mergeSort(right))
}

function merge (left, right) {
    // å£°æ˜å½’å¹¶è¿‡ç¨‹è¦åˆ›å»ºçš„æ–°æ•°ç»„ä»¥åŠç”¨æ¥è¿­ä»£ä¸¤ä¸ªæ•°ç»„ï¼ˆleftå’Œrightï¼‰æ‰€éœ€çš„ä¸¤ä¸ªå˜é‡
    var result = [], il = 0, ir = 0
    // è¿­ä»£ä¸¤ä¸ªæ•°ç»„çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„é¡¹å¤§å°ã€‚å°†å°çš„ä¸€æ–¹æ·»åŠ è‡³ç»“æœæ•°ç»„ï¼Œå¹¶é€’å¢è¿­ä»£æ•°ç»„çš„æ§åˆ¶å˜é‡
    while (il &lt; left.length &amp;&amp; ir &lt; right.length) {
        if (left[il] &lt; right[ir]) {
            result.push(left[il++])
        } else {
            result.push(right[ir++])
        }
    }
    // æ¥ä¸‹æ¥ï¼Œåˆ†åˆ«å°†ä¸¤ä¸ªæ•°ç»„å‰©ä½™çš„é¡¹æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­
    while (il &lt; left.length) {
        result.push(left[il++])
    }
    while (ir &lt; right.length) {
        result.push(right[ir++])
    }
    return result;
}

mergeSort([3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48])
</code></pre>
<p>å½’å¹¶æ’åºæ€§èƒ½ä¸é”™ï¼Œå…¶å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msup><mi>g</mi><mi>n</mi></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n log^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚</p>
<h2 id="å¿«é€Ÿæ’åº">å¿«é€Ÿæ’åº</h2>
<p>å¿«é€Ÿæ’åºæ˜¯æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå®ƒçš„å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msup><mi>g</mi><mi>n</mi></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(nlog^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚å’Œå½’å¹¶æ’åºä¸€æ ·ï¼Œå¿«é€Ÿæ’åºä¹Ÿä½¿ç”¨åˆ†æ²»çš„æ–¹æ³•ï¼Œå°†åŸå§‹æ•°ç»„åˆ†ä¸ºè¾ƒå°çš„æ•°ç»„ã€‚</p>
<p><strong>ç®—æ³•æè¿°ï¼š</strong></p>
<ol>
<li>ä»æ•°ç»„ä¸­é€‰æ‹©ä¸­é—´ä¸€é¡¹ä½œä¸ºâ€œä¸»å…ƒâ€ï¼ˆpivotï¼‰ã€‚</li>
<li>åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆï¼Œå·¦è¾¹ä¸€ä¸ªæŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªé¡¹ï¼Œå³è¾¹ä¸€ä¸ªæŒ‡å‘æ•°ç»„æœ€åä¸€ä¸ªé¡¹ã€‚ç§»åŠ¨å·¦æŒ‡<br>
é’ˆç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªæ¯”ä¸»å…ƒå¤§çš„å…ƒç´ ï¼Œæ¥ç€ï¼Œç§»åŠ¨å³æŒ‡é’ˆç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæ¯”ä¸»å…ƒå°çš„å…ƒç´ ï¼Œç„¶åäº¤<br>
æ¢å®ƒä»¬ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å·¦æŒ‡é’ˆè¶…è¿‡äº†å³æŒ‡é’ˆã€‚è¿™ä¸ªè¿‡ç¨‹å°†ä½¿å¾—æ¯”ä¸»å…ƒå°çš„å€¼éƒ½æ’åœ¨ä¸»å…ƒä¹‹<br>
å‰ï¼Œè€Œæ¯”ä¸»å…ƒå¤§çš„å€¼éƒ½æ’åœ¨ä¸»å…ƒä¹‹åã€‚è¿™ä¸€æ­¥å«ä½œåˆ’åˆ†æ“ä½œï¼ˆpartitionï¼‰ã€‚</li>
<li>ç®—æ³•å¯¹åˆ’åˆ†åçš„å°æ•°ç»„ï¼ˆè¾ƒä¸»å…ƒå°çš„å€¼ç»„æˆçš„å­æ•°ç»„ï¼Œä»¥åŠè¾ƒä¸»å…ƒå¤§çš„å€¼ç»„æˆçš„<br>
å­æ•°ç»„ï¼‰é‡å¤ä¹‹å‰çš„ä¸¤ä¸ªæ­¥éª¤ï¼Œç›´è‡³æ•°ç»„å·²å®Œå…¨æ’åºã€‚</li>
</ol>
<figure data-type="image" tabindex="6"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588422728358.gif" alt="" loading="lazy"></figure>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="language-js">function quickSort(array) {
    // ä¼ é€’å¾…æ’åºæ•°ç»„ï¼Œä»¥åŠç´¢å¼•0åŠå…¶æœ€æœ«çš„ä½ç½®ï¼ˆå› ä¸ºæˆ‘ä»¬è¦æ’æ•´ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­æ•°ç»„ï¼‰ä½œä¸ºå‚æ•°
    return quick(array, 0, array.length - 1)
}

function quick(array, left, right) {
    // å£°æ˜indexå˜é‡ï¼Œç”¨äºå¸®åŠ©æˆ‘ä»¬å°†å­æ•°ç»„åˆ†ç¦»ä¸ºè¾ƒå°å€¼æ•°ç»„å’Œè¾ƒå¤§å€¼æ•°ç»„
    var index
    if (array.length &gt; 1) {
        index = partition(array, left, right)
        // åˆ’åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„é‡å¤å¿«é€Ÿæ’åºè¿‡ç¨‹
        if (left &lt; index - 1) {
            quick(array, left, index - 1)
        }
        if (index &lt; right) {
            quick(array, index, right)
        }
    }
    return array
}

function partition(array, left, right) {
    // é€‰æ‹©ä¸­é—´é¡¹ä½œä¸ºä¸»å…ƒï¼Œåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼šæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ã€æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ 
    var pivot = array[Math.floor((left + right) / 2)],
        l = left,
        r = right;

    // åªè¦leftå’ŒrightæŒ‡é’ˆæ²¡æœ‰ç›¸äº’äº¤é”™ï¼Œå°±æ‰§è¡Œåˆ’åˆ†æ“ä½œ
    while (l &lt;= r) {
        // ç§»åŠ¨leftæŒ‡é’ˆç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ æ¯”ä¸»å…ƒå¤§
        while (array[l] &lt; pivot) {
            l++
        }
        // ç§»åŠ¨rightæŒ‡é’ˆç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ æ¯”ä¸»å…ƒå°
        while (array[r] &gt; pivot) {
            r--
        }
        // å½“å·¦æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ æ¯”ä¸»å…ƒå¤§ä¸”å³æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ æ¯”ä¸»å…ƒå°ï¼Œå¹¶ä¸”æ­¤æ—¶å·¦æŒ‡é’ˆç´¢å¼•æ²¡æœ‰å³æŒ‡é’ˆç´¢å¼•å¤§ï¼Œåˆ™äº¤æ¢å®ƒä»¬ï¼Œç„¶åç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œå¹¶é‡å¤æ­¤è¿‡ç¨‹ç»§ç»­å¾ªç¯ã€‚
        if (l &lt;= r) {
            var temp = array[l]
            array[l] = array[r]
            array[r] = temp;
            l++
            r--
        }
    }
    // åœ¨åˆ’åˆ†æ“ä½œç»“æŸåï¼Œè¿”å›å·¦æŒ‡é’ˆçš„ç´¢å¼•ï¼Œç”¨æ¥å¤„åˆ›å»ºå­æ•°ç»„
    return l
}

quickSort([3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48])
</code></pre>
<h2 id="å †æ’åº">å †æ’åº</h2>
<figure data-type="image" tabindex="7"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588500046422.gif" alt="" loading="lazy"></figure>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<pre><code class="language-js">function heapSort(array) {
    var heapSize = array.length
    for (var i = Math.floor(heapSize / 2); i &gt;= 0; i--) {
        heapify(array, heapSize, i)
    }
    while (heapSize &gt; 1) {
        heapSize--
        swap(array, 0, heapSize)
        heapify(array, heapSize, 0)
    }
    return array
}

function heapify(array, heapSize, i) {
    var left = i * 2 + 1,
        right = i * 2 + 2,
        largest = i;
    if (left &lt; heapSize &amp;&amp; array[left] &gt; array[largest]) {
        largest = left;
    }
    if (right &lt; heapSize &amp;&amp; array[right] &gt; array[largest]) {
        largest = right;
    }
    if (largest !== i) {
        swap(array, i, largest);
        heapify(array, heapSize, largest);
    }
}

function swap(arr, i, j) {
    var temp = arr[i]
    arr[i] = arr[j]
    arr[j] = temp
}

heapSort([3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48])
</code></pre>
<!-- ## è®¡æ•°æ’åº    

![](https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588423003529.gif)

## æ¡¶æ’åº

## åŸºæ•°æ’åº

![](https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1588423067487.gif) -->
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æ„Ÿæ…¨ç®—æ³•å®åœ¨æ˜¯åšå¤§ç²¾æ·±ï¼Œå‰è¾ˆä»¬èŠ±è´¹å¿ƒè¡€ç ”ç©¶å‡ºçš„æˆæœå€¼å¾—æˆ‘ä»¬å­¦ä¹ å’Œæ¨æ•²ã€‚æ’åºç®—æ³•è¿˜æœ‰è®¡æ•°æ’åºã€æ¡¶æ’åºå’ŒåŸºæ•°æ’åºï¼Œå®åœ¨æ²¡ç²¾åŠ›å»ä¸€ä¸€ç ”ç©¶äº†ğŸ˜“ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[iOS è¯ä¹¦é…ç½®æŒ‡åŒ—]]></title>
        <id>https://jiangrubin.github.io/post/ios-zheng-shu-pei-zhi-zhi-bei/</id>
        <link href="https://jiangrubin.github.io/post/ios-zheng-shu-pei-zhi-zhi-bei/">
        </link>
        <updated>2020-04-06T02:16:52.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>ç”¨ react-native å¼€å‘é¡¹ç›®æ—¶ï¼Œåœ¨å¯¹ iOS è¯ä¹¦ç›¸å…³çš„é…ç½®ï¼Œæ¯æ¬¡æ“ä½œä¸€éåè¿‡ä¸€æ®µæ—¶é—´åˆå¿˜äº†ã€‚æ‰€ä»¥å°†è¯ä¹¦çš„é…ç½®æµç¨‹éƒ½è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åæŸ¥é˜…ã€‚</p>
<h2 id="åˆ›å»ºåº”ç”¨ç¨‹åº-id">åˆ›å»ºåº”ç”¨ç¨‹åº ID</h2>
<p>é¦–å…ˆéœ€è¦å¼€å‘è€…è´¦å·ï¼Œç™»å½•<a href="https://developer.apple.com/" target="_blank">è‹¹æœå¼€å‘è€…ç½‘ç«™</a>è¿›å…¥å¼€å‘è€…è´¦æˆ·ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586741039119.png" alt="" loading="lazy"></figure>
<p>è¿›å…¥ <code>Certificates, Identifiers &amp; Profiles</code> é¡µé¢ã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586141548388.png" alt="" loading="lazy"></figure>
<p>é€‰æ‹© Identifiers åˆ›å»º App IDï¼Œå¡«å†™ App ID çš„ Description å’Œ Bundle IDã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586141828211.png" alt="" loading="lazy"></figure>
<p>ä¸€èˆ¬é€‰æ‹© App IDs å³å¯ã€‚</p>
<figure data-type="image" tabindex="4"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586141936519.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="5"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586142154922.png" alt="" loading="lazy"></figure>
<p>ä¸º App æ·»åŠ ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚æ¶ˆæ¯æ¨é€åŠŸèƒ½ã€‚</p>
<figure data-type="image" tabindex="6"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586142360020.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="7"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586142366600.png" alt="" loading="lazy"></figure>
<p>å¡«å†™å¥½ä»¥ä¸Šä¿¡æ¯åï¼Œç‚¹å‡» Continueï¼Œç¡®è®¤ AppId æ­£ç¡®å¡«å†™ï¼Œç‚¹å‡» Registerï¼Œæ³¨å†Œ AppId æˆåŠŸã€‚</p>
<h2 id="åˆ›å»º-csr-æ–‡ä»¶è¯ä¹¦è¯·æ±‚æ–‡ä»¶">åˆ›å»º CSR æ–‡ä»¶ï¼ˆè¯ä¹¦è¯·æ±‚æ–‡ä»¶ï¼‰</h2>
<blockquote>
<p>CSRï¼ˆCertificate Signing Requestï¼‰å³è¯ä¹¦è¯·æ±‚æ–‡ä»¶ã€‚è¯ä¹¦ç”³è¯·è€…åœ¨ç”³è¯·æ•°å­—è¯ä¹¦æ—¶ç”± CSPï¼ˆåŠ å¯†æœåŠ¡æä¾›è€…ï¼‰åœ¨ç”Ÿæˆç§é’¥çš„åŒæ—¶ä¹Ÿç”Ÿæˆè¯ä¹¦è¯·æ±‚æ–‡ä»¶ï¼ˆCSR æ–‡ä»¶ï¼‰ï¼Œè¯ä¹¦ç”³è¯·è€…åªè¦æŠŠ CSR æ–‡ä»¶æäº¤ç»™è¯ä¹¦é¢å‘æœºæ„åï¼ˆåˆ›å»º App ID æ—¶ä¸Šä¼ åˆ°è‹¹æœåå°ï¼‰ï¼Œè¯ä¹¦é¢å‘æœºæ„ä½¿ç”¨å…¶æ ¹è¯ä¹¦ç§é’¥ç­¾åç”Ÿæˆè¯ä¹¦å…¬é’¥æ–‡ä»¶ï¼ˆå¼€å‘è€…è¯ä¹¦ï¼‰ã€‚</p>
</blockquote>
<p>CSR æ–‡ä»¶åœ¨åˆ›å»º Certificates æ—¶éœ€è¦ä¸Šä¼ ã€‚</p>
<p>ä½¿ç”¨ Mac è‡ªå¸¦çš„ <code>é’¥åŒ™ä¸²è®¿é—®</code> æ¥åˆ›å»º <code>Certificate Signing Request</code> æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ“ä½œï¼š</p>
<figure data-type="image" tabindex="8"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586143369160.png" alt="" loading="lazy"></figure>
<p>å¡«å†™ <code>ç”¨æˆ·é‚®ç®±</code> å’Œ <code>å¸¸ç”¨åç§°</code> (åç§°å¯ä»¥éšæ„å¡«)ï¼Œå¹¶é€‰æ‹© <code>å­˜å‚¨åˆ°ç£ç›˜</code>ï¼Œæ–‡ä»¶åç¼€ä¸º <code>.certSigningRequest</code>ã€‚</p>
<figure data-type="image" tabindex="9"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586143624913.png" alt="" loading="lazy"></figure>
<h2 id="åˆ›å»ºè¯ä¹¦">åˆ›å»ºè¯ä¹¦</h2>
<blockquote>
<p>iOS è¯ä¹¦æ˜¯ç”¨æ¥è¯æ˜ iOS App å†…å®¹ï¼ˆexecutable codeï¼‰çš„åˆæ³•æ€§å’Œå®Œæ•´æ€§çš„æ•°å­—è¯ä¹¦ã€‚å¯¹äºæƒ³å®‰è£…åˆ°çœŸæœºæˆ–å‘å¸ƒåˆ° AppStore çš„åº”ç”¨ç¨‹åºï¼ˆAppï¼‰ï¼Œåªæœ‰ç»è¿‡ç­¾åéªŒè¯ï¼ˆSignature Validatedï¼‰æ‰èƒ½ç¡®ä¿æ¥æºå¯ä¿¡ï¼Œå¹¶ä¸”ä¿è¯ App å†…å®¹æ˜¯å®Œæ•´ã€æœªç»ç¯¡æ”¹çš„ã€‚</p>
</blockquote>
<p>é€‰æ‹© Certificates ç‚¹å‡»åŠ å·ã€‚</p>
<figure data-type="image" tabindex="10"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586144322541.png" alt="" loading="lazy"></figure>
<p>é€‰æ‹©ç›¸åº”çš„è¯ä¹¦ç§ç±»ï¼Œå¦‚å›¾æœ‰å¼€å‘è°ƒè¯•è¯ä¹¦ã€ç”Ÿäº§å‘å¸ƒè¯ä¹¦ï¼ˆApp Store ä¸Šä¼ åº”ç”¨å•†åº—ã€Ad Hoc ç”¨äºæµ‹è¯•åŒ…å‘å¸ƒï¼‰ã€å¼€å‘ç¯å¢ƒæ¨é€è¯ä¹¦ã€ç”Ÿäº§ç¯å¢ƒæ¨é€è¯ä¹¦ã€‚é€‰æ‹©ä½ éœ€è¦çš„è¯ä¹¦ã€‚</p>
<figure data-type="image" tabindex="11"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586236889292.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586236895832.png" alt="" loading="lazy"></figure>
<p>å†ç‚¹å‡» Continueï¼Œé€‰æ‹©ä¹‹å‰ç”Ÿæˆçš„ CSR æ–‡ä»¶ä¸Šä¼ ï¼Œç»§ç»­ç‚¹å‡» Continueï¼Œè¯ä¹¦åˆ›å»ºå®Œæˆã€‚ä¸‹è½½ä¸‹æ¥æ·»åŠ åˆ°é’¥åŒ™ä¸²è®¿é—®ä¸­ã€‚</p>
<figure data-type="image" tabindex="13"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586229786987.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="14"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586229914720.png" alt="" loading="lazy"></figure>
<h3 id="æ¨é€è¯ä¹¦å’Œæå…‰æ¨é€">æ¨é€è¯ä¹¦å’Œæå…‰æ¨é€</h3>
<p>é¡¹ç›®ä¸­éœ€è¦æ¶ˆæ¯æ¨é€æœåŠ¡çš„è¯ï¼Œå°±éœ€è¦ç”¨çš„æ¶ˆæ¯æ¨é€è¯ä¹¦ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯æå…‰æ¨é€ï¼ŒæŠŠæ¶ˆæ¯æ¨é€è¯ä¹¦ Download ä¸‹æ¥ï¼ŒåŒå‡»æ·»åŠ åˆ°é’¥åŒ™ä¸²è®¿é—®ä¸­ã€‚æ‰¾åˆ°åˆšæ‰ä¸‹è½½çš„è¯ä¹¦å¹¶å¯¼å‡º <code>.p12</code> æ–‡ä»¶ï¼Œä¹‹åéœ€è¦æ·»åŠ åˆ°æå…‰åå°ã€‚</p>
<figure data-type="image" tabindex="15"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586235903947.png" alt="" loading="lazy"></figure>
<p>ç‚¹å‡»å­˜å‚¨åéœ€è¦è¾“å…¥å¯†ç ï¼Œå¯†ç è¦è®°ä½ï¼Œä¸Šä¼ åˆ°æå…‰åå°éœ€è¦ç”¨åˆ°ã€‚</p>
<figure data-type="image" tabindex="16"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586236061023.png" alt="" loading="lazy"></figure>
<p>å‡è®¾ä½ çš„æå…‰åå°åº”ç”¨ä¿¡æ¯å·²ç»å¡«å†™å¥½ï¼Œè®¾ç½®è¯ä¹¦æ—¶å¦‚ä¸‹å›¾ï¼š</p>
<figure data-type="image" tabindex="17"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586236293643.png" alt="" loading="lazy"></figure>
<p>ä¸Šä¼ ä¹‹å‰å¯¼å‡ºçš„ <code>.p12</code> æ–‡ä»¶ï¼Œå¡«å†™å¯¼å‡ºæ—¶è®¾ç½®çš„å¯†ç ï¼Œæå…‰ä¼šåœ¨åå°ä¸ºä½ çš„åº”ç”¨è¿›è¡Œé‰´æƒã€‚</p>
<figure data-type="image" tabindex="18"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586236303663.png" alt="" loading="lazy"></figure>
<h2 id="åˆ›å»ºé…ç½®æ–‡ä»¶">åˆ›å»ºé…ç½®æ–‡ä»¶</h2>
<p>åˆ›å»º Provisioning Profile çš„å‰æï¼Œå·²åœ¨ Apple Developer ç½‘ç«™åˆ›å»ºå¾…å‘å¸ƒåº”ç”¨æ‰€ä½¿ç”¨çš„ Bundle ID çš„ App IDã€‚</p>
<p>é€‰æ‹© Profile ç‚¹å‡»åŠ å·æŒ‰é’®ï¼Œåˆ›å»º Provisioning Profileã€‚</p>
<figure data-type="image" tabindex="19"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586230645086.png" alt="" loading="lazy"></figure>
<p>é€‰æ‹©ä½ éœ€è¦çš„ Profile ç¯å¢ƒã€‚</p>
<figure data-type="image" tabindex="20"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586237441979.png" alt="" loading="lazy"></figure>
<p>é€‰æ‹©ä¹‹å‰åˆ›å»ºçš„ App IDã€ç›¸åº”çš„è¯ä¹¦ã€æµ‹è¯•çš„è®¾å¤‡ã€profile åç§°ï¼Œä¸€ç›´ Continue å³å¯ã€‚</p>
<figure data-type="image" tabindex="21"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586231384208.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="22"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586231669480.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="23"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586231591517.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="24"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586234979603.png" alt="" loading="lazy"></figure>
<p>å¡«å†™å®Œ Profile Name ç‚¹å‡» generate å®Œæˆï¼Œä¹‹åç‚¹å‡» DownLoadï¼Œä¸‹è½½ <code>.mobileprovision</code> çš„æ–‡ä»¶ï¼ŒåŒå‡»æ–‡ä»¶å³å¯æ·»åŠ åˆ° Xcodeã€‚</p>
<figure data-type="image" tabindex="25"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1586235137886.png" alt="" loading="lazy"></figure>
<p>è‡³æ­¤è¯ä¹¦å’Œé…ç½®æ–‡ä»¶ä¹‹ç±»çš„éƒ½åˆ›å»ºå®Œäº†ã€‚</p>
<h2 id="å…¶ä»–é—®é¢˜">å…¶ä»–é—®é¢˜</h2>
<h3 id="xcode-missing-private-key-è§£å†³æ–¹æ¡ˆ">Xcode Missing Private key è§£å†³æ–¹æ¡ˆ</h3>
<p>å½“æˆ‘ä»¬æ¢å¦ä¸€å° Mac è®¾å¤‡å¼€å‘æ‰“åŒ…çš„æ—¶å€™ï¼Œä¼šå‘ç°æç¤º <code>Missing Private key</code>ã€‚</p>
<p>å› ä¸ºè‹¹æœè§„å®š <code>.cer</code> è¯ä¹¦åªèƒ½å­˜åœ¨äºä¸€å°æœºå™¨ä¸Šï¼Œå› æ­¤å¦‚æœå¦ä¸€å°ç”µè„‘æƒ³è¦ç”¨çš„è¯ï¼Œéœ€è¦å¯¼å‡ºä¸º <code>.p12</code> æ–‡ä»¶ï¼Œå®‰è£…åˆ°å¦ä¸€å°æ²¡æœ‰å®‰è£… <code>.cer</code> æ–‡ä»¶çš„ Mac ç”µè„‘ã€‚</p>
<p>è¯¦ç»†è¯´æ˜å‚è€ƒè¯¥ç¯‡åšå®¢ <a href="https://www.jianshu.com/p/6372055fbaa0" target="_blank">https://www.jianshu.com/p/6372055fbaa0</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vue æºç åˆ†æ â€” å“åº”å¼åŸç†]]></title>
        <id>https://jiangrubin.github.io/post/vue-yuan-ma-fen-xi-xiang-ying-shi-yuan-li/</id>
        <link href="https://jiangrubin.github.io/post/vue-yuan-ma-fen-xi-xiang-ying-shi-yuan-li/">
        </link>
        <updated>2020-03-15T11:50:48.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>Vue æ˜¯ç›®å‰æµè¡Œå‰ç«¯æ¡†æ¶ï¼Œå…¶ç‹¬ç‰¹çš„ç‰¹æ€§æ˜¯å…¶éä¾µå…¥æ€§çš„å“åº”å¼ç³»ç»Ÿã€‚å½“ä¾¦æµ‹åˆ°æ•°æ®çš„å˜åŒ–æ¥æ›´æ–°è§†å›¾ï¼ŒåŸç†æ ¸å¿ƒæ˜¯ä½¿ç”¨ <code>Object.defineProperty</code> æ–¹æ³•ã€‚æœ¬æ–‡å¯¹å“åº”å¼åŸç†è¿›è¡Œåˆ†æï¼Œå‚ç…§ vue æºç å®ç°ç®€æ˜“ç‰ˆçš„æ•°æ®å“åº”å¼ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1584274877854.png" alt="" loading="lazy"></figure>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<p>æœ¬æ–‡å®Œæ•´ä»£ç ç‚¹å‡»<a href="https://github.com/jiangrubin/vue-mine" target="_blank">è¿™é‡Œ</a></p>
<pre><code class="language-js">import { def, isObject } from '../util/index'

class Observer {
  constructor (value) {
    this.value = value
    // é€šè¿‡ defineProperty ä¸ºå¯¹è±¡æ·»åŠ  __ob__ å±æ€§ï¼Œå¹¶ä¸”é…ç½®ä¸ºä¸å¯æšä¸¾
    // è¿™æ ·åšçš„æ„ä¹‰æ˜¯å¯¹è±¡éå†æ—¶ä¸ä¼šéå†åˆ° __ob__ å±æ€§
    def(value, '__ob__', this)
    this.walk(value)
  }

  walk (obj) {
    const keys = Object.keys(obj)
    for (let i = 0; i &lt; keys.length; i++) {
      defineReactive(obj, keys[i], obj[keys[i]])
    }
  }
}

function defineReactive (obj, key, val) {
  // å¦‚æœ val æ˜¯å¯¹è±¡çš„è¯é€’å½’ç›‘å¬
  observe(val)
  Object.defineProperty(obj, key, {
    enumerable: true, // å¯æšä¸¾
    configurable: true, // å¯é…ç½®
    get: function reactiveGetter () {
      return val
    },
    set: function reactiveSetter (newVal) {
      if (newVal === val || (newVal !== newVal &amp;&amp; val !== val)) {
        return
      }
      val = newVal
      // å¦‚æœèµ‹å€¼æ˜¯å¯¹è±¡çš„è¯ä¹Ÿè¦é€’å½’ç›‘å¬
      observe(newVal)
      console.log('ä¾¦æµ‹åˆ°æ•°æ®å˜åŒ–', newVal);
    }
  })
}

export function observe (value) {
  // ç±»å‹åˆ¤æ–­ï¼Œä¸æ˜¯å¯¹è±¡ç±»å‹ç›´æ¥è¿”å›
  if (!isObject(value)) {
    return
  }
  let ob = new Observer(value)
  return ob
}
</code></pre>
<p>ä¸Šé¢è¿™æ®µä»£ç ä¸»è¦ä½œç”¨åœ¨äºï¼š<code>observe</code> å‡½æ•°ä¼ å…¥ä¸€ä¸ª <code>value</code> (éœ€è¦è¢«è¿½è¸ªå˜åŒ–çš„å¯¹è±¡)ï¼Œä½œä¸º <code>Observer</code> ç±»çš„å‚æ•°å®ä¾‹åŒ–ï¼Œéå†æ‰€æœ‰å±æ€§å¯¹è¯¥å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§éƒ½é€šè¿‡ <code>defineReactive</code> å¤„ç†ï¼Œ åœ¨ <code>defineReactive</code> æ–¹æ³•å†… <code>observe</code> ä¼šè¿›è¡Œé€’å½’è°ƒç”¨ï¼Œä»¥æ­¤æ¥è¾¾åˆ°å®ç°ä¾¦æµ‹å¯¹è±¡å˜åŒ–ã€‚</p>
<p>æ¥ä¸‹æ¥å®ç° <code>Vue</code> ç±»ï¼Œå¯¹ options ä¸­çš„ data ä¼ å…¥ observe å¼€å‘è¿›è¡Œåˆå§‹åŒ–æ•°æ®ä¾¦æµ‹ã€‚</p>
<pre><code class="language-js">import { observe } from '../observer/index'

const sharedPropertyDefinition = {
  enumerable: true,
  configurable: true,
  get: function () {},
  set: function () {}
}

function proxy (target, sourceKey, key) {
  sharedPropertyDefinition.get = function proxyGetter () {
    return this[sourceKey][key]
  }
  sharedPropertyDefinition.set = function proxySetter (val) {
    this[sourceKey][key] = val
  }
  Object.defineProperty(target, key, sharedPropertyDefinition)
}

function Vue (options) {
  let vm = this
  let data = options.data
  vm._data = data

  const keys = Object.keys(data)
  let i = keys.length
  while (i--) {
    const key = keys[i]
    // å¯ä»¥è®© vm._data.x é€šè¿‡ vm.x è®¿é—®
    proxy(vm, `_data`, key)
  }

  observe(data)
}

export default Vue
</code></pre>
<p>å®ä¾‹åŒ– Vue ç±»ï¼ŒæŸ¥çœ‹æ§åˆ¶å°çš„è¾“å‡º vmã€‚</p>
<pre><code class="language-js">import Vue from './instance/index'

const vm = new Vue({
  data: {
    message: 'hello',
    location: { x: 100, y: 100 },
    arr: [1]
  }
})

window.vm = vm

// åœ¨æ§åˆ¶å°è¾“å…¥ï¼š vm.location = { x: 10, y: 10 } 
// è¾“å‡ºï¼šä¾¦æµ‹åˆ°æ•°æ®å˜åŒ– {__ob__: Observer}
// è¾“å…¥ï¼švm.location.z = 10
// è¾“å‡ºï¼š10
// è¾“å…¥ï¼švm.arr.push(2)
// è¾“å‡ºï¼š2
</code></pre>
<p>ä»ä¸­å¯ä»¥çœ‹åˆ°å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>æ— æ³•æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤</li>
</ul>
<p>é€šè¿‡ <code>Object.defineProperty</code> æ¥å°†å¯¹è±¡çš„keyè½¬æ¢æˆ <code>getter/setter</code> çš„å½¢å¼æ¥è¿½è¸ªå˜åŒ–ï¼Œä½† <code>getter/setter</code> åªèƒ½è¿½è¸ªä¸€ä¸ªæ•°æ®æ˜¯å¦è¢«ä¿®æ”¹ï¼Œæ— æ³•è¿½è¸ªæ–°å¢å±æ€§å’Œåˆ é™¤å±æ€§ã€‚</p>
<p>å®ç° Vue æä¾›çš„ <code>set</code> å’Œ <code>delete</code> æ–¹æ³•å‘åµŒå¥—å¯¹è±¡æ·»åŠ /åˆ é™¤å“åº”å¼å±æ€§ã€‚</p>
<ul>
<li>ä¸èƒ½ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼Œéœ€è¦è¿›è¡Œæ•°ç»„æ–¹æ³•çš„é‡å†™</li>
</ul>
<p>è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">// array.js
// è·å¾—æ•°ç»„åŸå‹
const arrayProto = Array.prototype
export const arrayMethods = Object.create(arrayProto)
// åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„åŸå‹ å¹¶ä¸”é‡å†™ methods è¿™äº›æ–¹æ³•
const methodsToPatch = [
  'push',
  'pop',
  'shift',
  'unshift',
  'splice',
  'sort',
  'reverse'
]

methodsToPatch.forEach(function (method) {
  const original = arrayProto[method]
  arrayMethods[method] = function (...args) {
    const result = original.apply(this, args)
    return result
  }
})
</code></pre>
<p>åœ¨ <code>observer/index.js</code> ä¸­å¯¼å…¥ <code>arrayMethods</code> é‡å†™çš„åŸå‹å¯¹è±¡ã€‚</p>
<pre><code class="language-js">import { arrayMethods } from './array'
import { def, isObject } from '../util/index'

class Observer {
  constructor (value) {
    this.value = value
    def(value, '__ob__', this)
    if (Array.isArray(value)) {
      value.__proto__ = arrayMethods
      this.observeArray(value)
    } else {
      this.walk(value)
    }
  }

  walk (obj) {
    const keys = Object.keys(obj)
    for (let i = 0; i &lt; keys.length; i++) {
      defineReactive(obj, keys[i], obj[keys[i]])
    }
  }

  observeArray (items) {
    for (let i = 0, l = items.length; i &lt; l; i++) {
      observe(items[i])
    }
  }
}
</code></pre>
<p>ä»¥ä¸Šä»£ç å®ç°äº†æ•°æ®åŠ«æŒï¼Œæ¥ä¸‹æ¥éœ€è¦å®ç°æ”¶é›†ä¾èµ–ä»¥åŠæ•°æ®æ›´æ–°æ—¶æ´¾å‘æ›´æ–°ï¼Œå…¶ä¸­çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯<code>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</code>ã€‚å…³äºè®¢é˜…è€… <code>Dep</code> å’Œè§‚å¯Ÿè€… <code>Watcher</code> ç›¸å…³ä»£ç ã€‚</p>
<p><strong>è®¢é˜…è€… Dep</strong></p>
<pre><code class="language-js">import { remove } from '../util/index'

export default class Dep {
  constructor () {
    /* ç”¨æ¥å­˜æ”¾ Watcher å¯¹è±¡çš„æ•°ç»„ */
    this.subs = []
  }

  /* åœ¨ subs ä¸­æ·»åŠ ä¸€ä¸ª Watcher å¯¹è±¡ */
  addSub (sub) {
    this.subs.push(sub)
  }

  removeSub (sub) {
    remove(this.subs, sub)
  }
  
  depend () {
    if (Dep.target) {
      Dep.target.addDep(this)
    }
  }

  /* é€šçŸ¥æ‰€æœ‰ Watcher å¯¹è±¡æ›´æ–°è§†å›¾ */
  notify () {
    const subs = this.subs.slice()
    for (let i = 0, l = subs.length; i &lt; l; i++) {
      subs[i].update()
    }
  }
}

/* åœ¨ watcher.js ä¸­è°ƒç”¨ï¼Œå°† Watcher å®ä¾‹èµ‹å€¼ç»™ Dep.target */ 
Dep.target = null
</code></pre>
<p><strong>è§‚å¯Ÿè€… Watcher</strong></p>
<pre><code class="language-js">import Dep from './dep'

export default class Watcher {
  constructor (vm, expOrFn, cb) {
    this.vm = vm
    this.getter = expOrFn || function () {}
    this.cb = cb
    this.value = this.get()
  }

  get () {
    Dep.target = this

    const vm = this.vm
    let value = this.getter.call(vm, vm)
    return value
  }

  addDep(dep) {
    dep.addSub(this)
  }

  update () {
    console.log('æ›´æ–°value:', this.value)
  }
}
</code></pre>
<p>åœ¨æ‰§è¡Œæ„é€ å‡½æ•°çš„æ—¶å€™å°† <code>Dep.target</code> æŒ‡å‘è‡ªèº«ï¼Œä»è€Œä½¿å¾—æ”¶é›†åˆ°äº†å¯¹åº”çš„ <code>Watcher</code>ï¼Œåœ¨æ´¾å‘æ›´æ–°çš„æ—¶å€™å–å‡ºå¯¹åº”çš„ <code>Watcher</code>ï¼Œç„¶åæ‰§è¡Œ <code>update</code> å‡½æ•°ã€‚</p>
<p>æœ€åå¯¹ <code>defineReactive</code> å‡½æ•°å’Œ <code>Vue</code> ç±»è¿›è¡Œæ”¹é€ </p>
<pre><code class="language-js">export function defineReactive (obj, key, val) {
  const dep = new Dep()
  let childOb = observe(val)
  
  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter () {
      // å°† Watcher æ·»åŠ åˆ°è®¢é˜…  
      dep.depend()
      return val
    },
    set: function reactiveSetter (newVal) {
      if (newVal === val || (newVal !== newVal &amp;&amp; val !== val)) {
        return
      }
      val = newVal
      childOb = observe(newVal)
      // æ‰§è¡Œ watcher çš„ update æ–¹æ³•
      dep.notify()
    }
  })
}
</code></pre>
<pre><code class="language-js">function Vue (options) {
  let vm = this
  let data = options.data
  vm._data = data

  const keys = Object.keys(data)
  let i = keys.length
  while (i--) {
    const key = keys[i]
    proxy(vm, `_data`, key)
  }

  observe(data)
  /* æ–°å»ºä¸€ä¸ª Watcher è§‚å¯Ÿè€…å¯¹è±¡ï¼Œè¿™æ—¶å€™ Dep.target ä¼šæŒ‡å‘è¿™ä¸ª Watcher å¯¹è±¡ */
  new Watcher(data, val =&gt; val)
}
</code></pre>
<p>å½“ render function è¢«æ¸²æŸ“çš„æ—¶å€™ï¼Œè¯»å–æ‰€éœ€å¯¹è±¡çš„å€¼ï¼Œä¼šè§¦å‘ reactiveGetter å‡½æ•°æŠŠå½“å‰çš„ Watcher å¯¹è±¡ï¼ˆå­˜æ”¾åœ¨ Dep.target ä¸­ï¼‰æ”¶é›†åˆ° Dep ç±»ä¸­å»ã€‚ä¹‹åå¦‚æœä¿®æ”¹å¯¹è±¡çš„å€¼ï¼Œåˆ™ä¼šè§¦å‘ reactiveSetter æ–¹æ³•ï¼Œé€šçŸ¥ Dep ç±»è°ƒç”¨ notify æ¥è§¦å‘æ‰€æœ‰ Watcher å¯¹è±¡çš„ update æ–¹æ³•æ›´æ–°å¯¹åº”è§†å›¾ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æœ¬æ–‡åœ¨é˜…è¯» Vue æºç åï¼Œæ ¹æ®è‡ªå·±çš„ç†è§£åŠ ä¸Šå‚è€ƒå…¶ä»–æ–‡ç« ï¼Œç¼–å†™çš„ä¸€ä¸ªç²¾ç®€ä»£ç å®ç°ã€‚å…¶ä¸­ä»£ç å®ç°å¹¶ä¸ä¸¥è°¨ä»¥åŠè‡ªèº«çš„ç†è§£ä¸åˆ°ä½ï¼Œåœ¨æ­¤æ·±è¡¨æƒ­æ„§ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[GitHub Actions è‡ªåŠ¨éƒ¨ç½²å®è·µ]]></title>
        <id>https://jiangrubin.github.io/post/github-actions-zi-dong-bu-shu-shi-jian/</id>
        <link href="https://jiangrubin.github.io/post/github-actions-zi-dong-bu-shu-shi-jian/">
        </link>
        <updated>2020-02-13T11:16:59.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>GitHub Actions æ˜¯ GitHub æ¨å‡ºçš„æŒç»­é›†æˆæœåŠ¡ï¼Œè¯­æ³•ä»‹ç»å¯ä»¥çœ‹ <a href="https://github.com/features/actions" target="_blank">å®˜æ–¹æ–‡æ¡£</a> æˆ–è€… <a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" target="_blank">é˜®ä¸€å³°è€å¸ˆçš„åšå®¢</a>ã€‚äºæ˜¯æœ¬ç€æŠ˜è…¾çš„å¿ƒæ€æ¥è‡ªåŠ¨å‘å¸ƒä¸€ä¸ª vue åº”ç”¨åˆ°è‡ªå·±çš„ GitHub Pagesã€‚</p>
<h2 id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®</h2>
<p>ä½¿ç”¨ <a href="https://cli.vuejs.org/zh/" target="_blank">vue-cli</a> åˆ›å»ºä¸€ä¸ªç®€å•çš„ vue é¡¹ç›®</p>
<pre><code>vue create github-actions-demo
</code></pre>
<blockquote>
<p>Vue Router ä¸è¦é€‰æ‹© History æ¨¡å¼ï¼Œå‘å¸ƒåˆ° github page æ˜¯ä¸€ä¸ªçº¯å‰ç«¯é™æ€é¡µé¢ï¼Œè€Œ History æ¨¡å¼éœ€è¦åå°é…ç½®æ”¯æŒã€‚</p>
</blockquote>
<p>é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œè¿˜éœ€è¦åœ¨ <code>vue.config.js</code> ä¸­è®¾ç½®æ­£ç¡®çš„ <code>publicPath</code>ã€‚</p>
<p>å¦‚æœæ‰“ç®—å°†é¡¹ç›®éƒ¨ç½²åˆ° <code>https://&lt;USERNAME&gt;.github.io/</code> ä¸Šï¼Œ<code>publicPath</code> é»˜è®¤ä¸º <code>&quot;/&quot;</code> å¯ä»¥å¿½ç•¥è¿™ä¸ªå‚æ•°ã€‚</p>
<p>å¦‚æœæ‰“ç®—å°†é¡¹ç›®éƒ¨ç½²åˆ° <code>https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;/</code> ä¸Šï¼ˆå³ä»“åº“åœ°å€ä¸º <code>https://github.com/&lt;USERNAME&gt;/&lt;REPO&gt;</code>ï¼‰ï¼Œå°† <code>publicPath</code> è®¾ä¸º <code>&quot;/&lt;REPO&gt;/&quot;</code>ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä»“åº“åå­—ä¸º â€œmy-projectâ€ï¼Œé‚£ä¹ˆ <code>vue.config.js</code> çš„å†…å®¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-js">module.exports = {
  publicPath: process.env.NODE_ENV === 'production'
    ? '/my-project/'
    : '/'
}
</code></pre>
<h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2>
<p>åˆ›å»ºä¸€ä¸ª GitHub ä»“åº“ï¼Œä»¥åŠé…ç½® GitHub å¯†é’¥ã€‚</p>
<ol>
<li>
<p>ç”³è¯·ä¸€ä¸ª access tokens</p>
<p>ç‚¹å‡»å¤´åƒ <code>Setting</code> &gt; <code>Developer setttings</code> &gt; <code>Personal access tokens</code></p>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1581598562909.jpeg" alt="" loading="lazy"></figure>
<p>ç‚¹å‡» <code>Generate new token</code> æŒ‰é’®ï¼Œå‹¾é€‰å¥½æƒé™ç”Ÿæˆ tokenï¼Œè®°ä¸‹ç”Ÿæˆçš„ token ä¹‹åéœ€è¦ç”¨åˆ°ã€‚</p>
</li>
<li>
<p>åœ¨åˆ›å»ºçš„ä»“åº“ä¸­ç‚¹å‡»  <code>Settings</code> &gt; <code>Secrets</code> &gt; <code>Add a new secret</code></p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1581598887444.png" alt="" loading="lazy"></figure>
<p>Name éšæ„å¡«å†™ï¼ŒValue å¡«å…¥åˆšç”³è¯·çš„ token å€¼</p>
</li>
</ol>
<h2 id="ç¼–å†™-yml-æ–‡ä»¶">ç¼–å†™ yml æ–‡ä»¶</h2>
<pre><code class="language-yml">name: GitHub Actions Build and Deploy Demo
on:
  push:
    branches:
      - master # æ•´ä¸ªæµç¨‹åœ¨masteråˆ†æ”¯å‘ç”Ÿpushäº‹ä»¶æ—¶è§¦å‘
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@master

    - name: Build and Deploy
      uses: JamesIves/github-pages-deploy-action@releases/v2
      env:
        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }} # å¯†é’¥
        BRANCH: gh-pages # å‘å¸ƒåˆ†æ”¯
        FOLDER: dist # vue-cli build åçš„ç›®å½•
        BUILD_SCRIPT: npm install &amp;&amp; npm run build # æ„å»ºè„šæœ¬
</code></pre>
<h2 id="æœ€åå·¥ä½œ">æœ€åå·¥ä½œ</h2>
<p>ä¿å­˜æ–‡ä»¶åï¼Œå°†æ•´ä¸ªä»“åº“æ¨é€åˆ° GitHubï¼Œå®Œæ•´çš„ <a href="https://github.com/jiangrubin/github-actions-demo" target="_blank">ä»£ç ä»“åº“</a> åœ¨è¿™é‡Œã€‚</p>
<p>Actions å¼€å§‹è‡ªåŠ¨è¿è¡Œï¼Œæ¥ç€ç­‰å¾…å®ƒå®Œæˆã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1581599890441.jpeg" alt="" loading="lazy"></figure>
<p>ç­‰ workflow è¿è¡Œç»“æŸï¼Œè®¿é—® <a href="https://jiangrubin.github.io/github-actions-demo/#/" target="_blank">GitHub Page</a> å°±å¯ä»¥çœ‹åˆ°é¡µé¢äº†ã€‚</p>
<figure data-type="image" tabindex="4"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1581600153643.png" alt="" loading="lazy"></figure>
<p>ä»¥åï¼Œæ¯æ¬¡ä¿®æ”¹åæ¨é€æºç ï¼ŒGitHub Actions éƒ½ä¼šè‡ªåŠ¨è¿è¡Œï¼Œå°†æ„å»ºäº§ç‰©å‘å¸ƒåˆ°ç½‘é¡µã€‚</p>
<blockquote>
<p>GitHub Page ä¼šæœ‰ç”Ÿæ•ˆæ—¶é—´ï¼Œåœ¨ Settings ä¸­ GitHub Pages çœ‹åˆ°é…ç½®å¦‚ä¸‹æ—¶å°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p>
</blockquote>
<figure data-type="image" tabindex="5"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1581600456035.png" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Git Commit Message è§„èŒƒåŒ–å®è·µ]]></title>
        <id>https://jiangrubin.github.io/post/git-commit-message-gui-fan-hua-shi-jian/</id>
        <link href="https://jiangrubin.github.io/post/git-commit-message-gui-fan-hua-shi-jian/">
        </link>
        <updated>2020-02-06T03:21:31.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>åœ¨å¤šäººåä½œå¼€å‘é¡¹ç›®æ—¶ï¼Œå¦‚æœæ²¡æœ‰è§„èŒƒçº¦æŸ git commit messageï¼Œå®¹æ˜“é€ æˆå„ç§æäº¤çš„é£æ ¼äº”èŠ±å…«é—¨ã€‚è€Œè§„èŒƒçš„æäº¤ä¿¡æ¯èƒ½è®©ä»–äººå¿«é€Ÿäº†è§£æ­¤æ¬¡æäº¤çš„ç›®çš„ï¼Œè¿˜å¯ä»¥æœ‰æ•ˆçš„è¾“å‡º CHANGELOGï¼Œå¯¹é¡¹ç›®çš„ç®¡ç†è‡³å…³é‡è¦ã€‚</p>
<h2 id="commit-message-çš„æ ¼å¼">Commit message çš„æ ¼å¼</h2>
<p>ç›®å‰åº”ç”¨æ¯”è¾ƒå¹¿æ³›çš„æ˜¯ <a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines" target="_blank">Angular å›¢é˜Ÿçš„è§„èŒƒ</a>ï¼Œå®ƒçš„ message æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="language-xml">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;
</code></pre>
<p><code>type</code> ç”¨äºè¯´æ˜ commit çš„ç±»åˆ«ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>featï¼šæ–°åŠŸèƒ½</li>
<li>fixï¼šä¿®å¤ bug</li>
<li>docsï¼šæ–‡æ¡£ä¿®æ”¹</li>
<li>styleï¼šä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰</li>
<li>refactorï¼šä»£ç é‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹ bug çš„ä»£ç å˜åŠ¨ï¼‰</li>
<li>perfï¼šä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ</li>
<li>testï¼šå¢åŠ æµ‹è¯•</li>
<li>revertï¼šå›æ»š</li>
<li>choreï¼šå…¶ä»–ä¿®æ”¹ï¼Œæ¯”å¦‚æ„å»ºæµç¨‹ã€ä¾èµ–ç®¡ç†</li>
<li>...</li>
</ul>
<p><code>scope</code> ç”¨äºè¯´æ˜ commit å½±å“çš„èŒƒå›´ï¼Œæ¯”å¦‚æ•°æ®å±‚ã€æ§åˆ¶å±‚ã€è§†å›¾å±‚ç­‰ç­‰ï¼Œè§†é¡¹ç›®ä¸åŒè€Œä¸åŒ</p>
<p><code>subject</code> æ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°</p>
<p><code>body</code> æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œ</p>
<p><code>footer</code> ä¸€äº›å¤‡æ³¨ï¼Œé€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ bug çš„é“¾æ¥</p>
<h2 id="commitizen">Commitizen</h2>
<p>äº†è§£è§„èŒƒæ ¼å¼åï¼Œå°±éœ€è¦é€šè¿‡ <a href="https://github.com/commitizen/cz-cli" target="_blank">Commitizen</a> å€ŸåŠ©å®ƒæä¾›çš„ git cz å‘½ä»¤æ›¿ä»£æˆ‘ä»¬çš„ git commit å‘½ä»¤ï¼Œå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ commit messageã€‚</p>
<p>æ¨èåœ¨æœ¬åœ°å®‰è£…çš„æ–¹å¼</p>
<pre><code>npm install commitizen --save-dev
</code></pre>
<p>æ¥ç€ä¸º commitizen åˆå§‹åŒ– Adapter</p>
<p>åœ¨ npm 5.2+ ä½ å¯ä»¥ä½¿ç”¨ <a href="http://www.ruanyifeng.com/blog/2019/02/npx.html" target="_blank">npx</a> æ¥åˆå§‹åŒ– Adapter</p>
<pre><code>npx commitizen init cz-conventional-changelog --save-dev --save-exact
</code></pre>
<blockquote>
<p>npm &lt; 5.2 å¯ä»¥æ‰§è¡Œ <code>./node_modules/.bin/commitizen</code> æˆ–è€… <code>./node_modules/.bin/git-cz</code></p>
</blockquote>
<p>å¹¶åœ¨ package.json ä¸­æ·»åŠ  npm scripts è¿è¡Œè„šæœ¬</p>
<p>package.json ä¼šæ–°å¢å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="language-js">&quot;scripts&quot;: {
    &quot;commit&quot;: &quot;git-cz&quot;
},
&quot;devDependencies&quot;: {
    &quot;commitizen&quot;: &quot;^4.0.3&quot;,
    &quot;cz-conventional-changelog&quot;: &quot;^3.1.0&quot;,
},
&quot;config&quot;: {
    &quot;commitizen&quot;: {
      &quot;path&quot;: &quot;./node_modules/cz-conventional-changelog&quot;
    }
}
</code></pre>
<p>ä¹‹åå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­æ‰§è¡Œ <code>npm run commit</code> æˆ–è€… <code>npx git cz</code>ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1580967235373.jpeg" alt="" loading="lazy"></figure>
<h2 id="standard-version-è‡ªåŠ¨ç”Ÿæˆ-changelog">standard-version: è‡ªåŠ¨ç”Ÿæˆ CHANGELOG</h2>
<p>ä½¿ç”¨å·¥å…·åæˆ‘ä»¬çš„å·¥ç¨‹ commit message åº”è¯¥æ˜¯ç¬¦åˆ Angular å›¢é˜Ÿé‚£å¥—ï¼Œè¿™æ ·ä¹Ÿä¾¿äºæˆ‘ä»¬å€ŸåŠ© <a href="https://github.com/conventional-changelog/standard-version" target="_blank">standard-version</a> è¿™æ ·çš„å·¥å…·ï¼Œè‡ªåŠ¨ç”Ÿæˆ CHANGELOGã€‚</p>
<p>æœ¬åœ°å®‰è£…</p>
<pre><code class="language-shell">npm install standard-version --save-dev
</code></pre>
<p>åœ¨ package.json æ·»åŠ è¿è¡Œè„šæœ¬</p>
<pre><code class="language-js">{
  &quot;scripts&quot;: {
    &quot;release&quot;: &quot;standard-version&quot;
  }
}
</code></pre>
<p>è¿è¡Œè„šæœ¬åï¼Œæ•ˆæœå¤§è‡´å¦‚ä¸‹ï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/jiangrubin/image-host/1580970514212.jpeg" alt="" loading="lazy"></figure>
<p>æ›´å¤šä½¿ç”¨ç‰¹æ€§è¯¦è§å…¶<a href="https://github.com/conventional-changelog/standard-version" target="_blank">æ–‡æ¡£</a></p>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>æŸ¥çœ‹å®Œæ•´çš„ <a href="https://github.com/jiangrubin/standard-commit" target="_blank">demo</a></p>
<p>æ­¤æ–‡æ˜¯é€‚åˆè‡ªå·±çš„ä¸€ä¸ªç®€å•é€šç”¨é…ç½®ï¼Œå¦‚ä½¿ç”¨ commitlint æ›´ä¸¥æ ¼çš„æ ¡éªŒ message ä»¥åŠå…¶ä»–è‡ªå®šä¹‰é…ç½®ï¼Œå¯è§ä»¥ä¸‹å‚è€ƒèµ„æ–™ä¸­çš„é“¾æ¥</p>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<ul>
<li>
<p><a href="https://juejin.im/post/5afc5242f265da0b7f44bee4" target="_blank">ä¼˜é›…çš„æäº¤ä½ çš„ Git Commit Message</a></p>
</li>
<li>
<p><a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank">Commit message å’Œ Change log ç¼–å†™æŒ‡å—</a></p>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[scrollIntoView å®ç°é¡µé¢é”šç‚¹]]></title>
        <id>https://jiangrubin.github.io/post/scrollintoview-shi-xian-ye-mian-mao-dian/</id>
        <link href="https://jiangrubin.github.io/post/scrollintoview-shi-xian-ye-mian-mao-dian/">
        </link>
        <updated>2020-01-30T03:12:12.000Z</updated>
        <summary type="html"><![CDATA[<p>é”šç‚¹å³æŒ‡ html ä¸­çš„é“¾æ¥ï¼Œåœ¨é¡µé¢ä¸­é€‚å½“çš„æ·»åŠ é”šç‚¹å¯ä»¥å¤§å¤§æé«˜é˜…è¯»æˆ–æŸ¥æ‰¾æ•ˆç‡</p>
]]></summary>
        <content type="html"><![CDATA[<p>é”šç‚¹å³æŒ‡ html ä¸­çš„é“¾æ¥ï¼Œåœ¨é¡µé¢ä¸­é€‚å½“çš„æ·»åŠ é”šç‚¹å¯ä»¥å¤§å¤§æé«˜é˜…è¯»æˆ–æŸ¥æ‰¾æ•ˆç‡</p>
<!-- more -->
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>é”šç‚¹æ˜¯ç½‘ç«™ä¸­å¸¸ç”¨çš„åŠŸèƒ½ã€‚å‰ç«¯ç®€å•å®ç°é”šç‚¹çš„æ–¹æ³•ï¼Œä½¿ç”¨ a æ ‡ç­¾æŠŠ href å±æ€§å†™æˆè¦è·³è½¬åˆ°çš„å…ƒç´  idï¼Œæ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-html">&lt;a href=&quot;#anchor&quot;&gt;&lt;/a&gt;

&lt;div id=&quot;anchor&quot;&gt;&lt;/div&gt;
</code></pre>
<p>ç‚¹å‡» a æ ‡ç­¾é¡µé¢å°±ä¼šè·³è½¬åˆ°æŒ‡å®š id å…ƒç´ çš„ä½ç½®ã€‚å¹¶æ”¹å˜é“¾æ¥åœ°å€æ¯”å¦‚ï¼š<code>http://www.xxxx.com#anchor</code>ã€‚</p>
<p>è™½ç„¶ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œç›´æ¥è·³è½¬è¿‡å»ç«‹é©¬å®Œæˆäº§å“çš„éœ€æ±‚ï¼Œä½†æ˜¯å½“ç½‘é¡µä¸­å­˜åœ¨å¤šä¸ªé”šç‚¹æ—¶ï¼Œå°±ä¼šå‡ºç°ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®å¹¶ä¸ä¼šè¿”å›ä¹‹å‰æµè§ˆçš„ç½‘é¡µï¼Œè€Œæ˜¯è¿”å›ä¸Šä¸€ä¸ªå¸¦æœ‰é”šç‚¹çš„é“¾æ¥ã€‚</p>
<blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå½“å‰ç½‘ç«™é“¾æ¥æ˜¯ <code>http://www.xxxx.com#anchor2</code>ï¼Œ å½“ç”¨æˆ·æƒ³è¿”å›ä¹‹å‰çš„é¡µé¢ï¼Œç‚¹å‡»åé€€æŒ‰é’®åï¼Œé“¾æ¥å˜æˆäº† <code>http://www.xxxx.com#anchor1</code>ã€‚ä½†è¿˜æ˜¯åœ¨åŒä¸€ä¸ªé¡µé¢ä¸­ï¼Œä¼šä½¿ç”¨æˆ·æ„Ÿåˆ°è¿·æƒ‘ï¼Œé™ä½ç”¨æˆ·ä½“éªŒã€‚</p>
</blockquote>
<h2 id="è§£å†³é—®é¢˜">è§£å†³é—®é¢˜</h2>
<p><code>scrollIntoView()</code> æ–¹æ³•è®©å½“å‰çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§†åŒºåŸŸå†…ï¼Œè¯¦è§ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollIntoView">MDN</a> å¯¹æ­¤æ–¹æ³•ä»‹ç»ã€‚</p>
<p>ç®€å•ä»£ç å®ç°ï¼š</p>
<pre><code class="language-html">&lt;!-- HTML --&gt;
&lt;div onclick='getAnchor('anchor_1')'&gt;å®šä½åˆ°é”šç‚¹ä¸€&lt;/div&gt;
&lt;div onclick='getAnchor('anchor_2')'&gt;å®šä½åˆ°é”šç‚¹äºŒ&lt;/div&gt;

&lt;div id='anchor_1'&gt;é”šç‚¹ä½ç½®ä¸€&lt;/div&gt;
&lt;div id='anchor_2'&gt;é”šç‚¹ä½ç½®äºŒ&lt;/div&gt;
</code></pre>
<pre><code class="language-js">&lt;!-- JS --&gt;
function getAnchor (id) {
    // è·³è½¬åˆ°é”šç‚¹
    document.getElementById(id).scrollIntoView()
}
</code></pre>
<p>å¦‚æœéœ€è¦è®©é¡µé¢å¹³æ»‘æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®ï¼Œåˆ™éœ€è¦å¢åŠ å‚æ•° <code>behavior</code> è®¾ç½®å…¶å€¼ä¸º <code>smooth</code></p>
<pre><code class="language-js">document.documentElement.scrollIntoView({
    behavior: &quot;smooth&quot;,
    block: &quot;start&quot;,
    inline: &quot;nearest&quot;
});
</code></pre>
<h2 id="å…¶ä»–ä½¿ç”¨åœºæ™¯">å…¶ä»–ä½¿ç”¨åœºæ™¯</h2>
<p><strong>å›åˆ°é¡¶éƒ¨</strong> ä¹Ÿæ˜¯ç½‘é¡µä¸­å¸¸ç”¨åŠŸèƒ½ã€‚</p>
<p>ç®€å•ä»£ç å®ç°  <code>document.querySelector('html').scrollIntoView()</code></p>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>æœ¬æ–‡åªæ˜¯ç®€å•ä»‹ç»äº†ä½¿ç”¨æ–¹æ³•ï¼Œæƒ³è¦è¯¦ç»†äº†è§£çš„è¯ï¼Œå¯ä»¥å‚è€ƒå¼ é‘«æ—­çš„è¿™ç¯‡æ–‡ç« ï¼š<a target="_blank" href="https://www.zhangxinxu.com/wordpress/2018/10/scroll-behavior-scrollintoview-%E5%B9%B3%E6%BB%91%E6%BB%9A%E5%8A%A8/">CSS scroll-behavior å’Œ JS scrollIntoView è®©é¡µé¢æ»šåŠ¨å¹³æ»‘</a></p>
]]></content>
    </entry>
</feed>